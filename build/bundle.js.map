{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/immer/dist/immer.cjs.production.min.js","../../website/web-site-api.js","../../firebase.config.js","../../website/app-store.js","../../website/notification-store.js","../../website/components/layouts/OnboardingLayout.svelte","../../website/components/layouts/OnboardingBody.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../website/components/Button.svelte","../../website/components/forwardEvents.js","../../website/routes/welcome/Content.svelte","../../website/components/icons/CloseSmall.svelte","../../website/routes/demographics/ClearAnswerButton.svelte","../../website/routes/demographics/survey-tools.js","../../website/routes/demographics/formatters.js","../../website/routes/demographics/survey-schema.js","../../website/routes/demographics/Content.svelte","../../website/routes/terms-of-service/Content.svelte","../../website/components/OnboardingCTAContainer.svelte","../../website/components/Arrow02.svelte","../../website/routes/demographics/CallToAction.svelte","../../website/components/Arrow01.svelte","../../website/routes/terms-of-service/CallToAction.svelte","../../website/routes/Onboarding.svelte","../../node_modules/micromodal/dist/micromodal.es.js","../../website/components/Portal.svelte","../../website/components/icons/Close.svelte","../../website/components/Dialog.svelte","../../website/routes/Sidebar.svelte","../../website/routes/Layout.svelte","../../website/components/study-card/nice-date.js","../../website/components/study-card/Header.svelte","../../website/components/icons/CheckCircle.svelte","../../website/components/study-card/study-categories.js","../../website/components/icons/CaretRight.svelte","../../website/components/accordion/AccordionButton.svelte","../../website/components/study-card/StudyCard.svelte","../../website/routes/irbs/index.js","../../website/routes/current-studies/StudyCard.svelte","../../website/routes/current-studies/Content.svelte","../../website/routes/demographics/MainDemographicsView.svelte","../../node_modules/svelte/motion/index.mjs","../../website/routes/current-studies/Background.svelte","../../website/components/layouts/MainContent.svelte","../../website/routes/Main.svelte","../../website/components/notification/NotificationElement.svelte","../../website/routes/current-studies/SuccessfullyJoinedStudyNotification.svelte","../../website/routes/current-studies/SuccessfullyLeftStudyNotification.svelte","../../website/routes/demographics/SuccessfullyUpdatedProfileNotification.svelte","../../website/routes/NotificationCenter.svelte","../../website/routes/non-eligible-splashes/NonUSUser.svelte","../../website/App.svelte","../../website/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.38.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_await_block_branch, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","function t(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];throw Error(\"[Immer] minified error nr: \"+t+(r.length?\" \"+r.map((function(t){return\"'\"+t+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function n(t){return!!t&&!!t[H]}function r(t){return!!t&&(function(t){if(!t||\"object\"!=typeof t)return!1;var n=Object.getPrototypeOf(t);if(null===n)return!0;var r=Object.hasOwnProperty.call(n,\"constructor\")&&n.constructor;return r===Object||\"function\"==typeof r&&Function.toString.call(r)===Q}(t)||Array.isArray(t)||!!t[G]||!!t.constructor[G]||c(t)||v(t))}function e(t,n,r){void 0===r&&(r=!1),0===i(t)?(r?Object.keys:T)(t).forEach((function(e){r&&\"symbol\"==typeof e||n(e,t[e],t)})):t.forEach((function(r,e){return n(e,r,t)}))}function i(t){var n=t[H];return n?n.t>3?n.t-4:n.t:Array.isArray(t)?1:c(t)?2:v(t)?3:0}function u(t,n){return 2===i(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function o(t,n){return 2===i(t)?t.get(n):t[n]}function f(t,n,r){var e=i(t);2===e?t.set(n,r):3===e?(t.delete(n),t.add(r)):t[n]=r}function a(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function c(t){return W&&t instanceof Map}function v(t){return X&&t instanceof Set}function s(t){return t.i||t.u}function p(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=U(t);delete n[H];for(var r=T(n),e=0;e<r.length;e++){var i=r[e],u=n[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),n)}function l(t,u){return void 0===u&&(u=!1),d(t)||n(t)||!r(t)?t:(i(t)>1&&(t.set=t.add=t.clear=t.delete=h),Object.freeze(t),u&&e(t,(function(t,n){return l(n,!0)}),!0),t)}function h(){t(2)}function d(t){return null==t||\"object\"!=typeof t||Object.isFrozen(t)}function y(n){var r=V[n];return r||t(18,n),r}function _(t,n){V[t]||(V[t]=n)}function b(){return J}function m(t,n){n&&(y(\"Patches\"),t.o=[],t.v=[],t.s=n)}function j(t){O(t),t.p.forEach(w),t.p=null}function O(t){t===J&&(J=t.l)}function x(t){return J={p:[],l:J,h:t,_:!0,m:0}}function w(t){var n=t[H];0===n.t||1===n.t?n.j():n.O=!0}function S(n,e){e.m=e.p.length;var i=e.p[0],u=void 0!==n&&n!==i;return e.h.S||y(\"ES5\").M(e,n,u),u?(i[H].P&&(j(e),t(4)),r(n)&&(n=M(e,n),e.l||g(e,n)),e.o&&y(\"Patches\").g(i[H],n,e.o,e.v)):n=M(e,i,[]),j(e),e.o&&e.s(e.o,e.v),n!==B?n:void 0}function M(t,n,r){if(d(n))return n;var i=n[H];if(!i)return e(n,(function(e,u){return P(t,i,n,e,u,r)}),!0),n;if(i.A!==t)return n;if(!i.P)return g(t,i.u,!0),i.u;if(!i.R){i.R=!0,i.A.m--;var u=4===i.t||5===i.t?i.i=p(i.k):i.i;e(3===i.t?new Set(u):u,(function(n,e){return P(t,i,u,n,e,r)})),g(t,u,!1),r&&t.o&&y(\"Patches\").F(i,r,t.o,t.v)}return i.i}function P(t,e,i,o,a,c){if(n(a)){var v=M(t,a,c&&e&&3!==e.t&&!u(e.D,o)?c.concat(o):void 0);if(f(i,o,v),!n(v))return;t._=!1}if(r(a)&&!d(a)){if(!t.h.K&&t.m<1)return;M(t,a),e&&e.A.l||g(t,a)}}function g(t,n,r){void 0===r&&(r=!1),t.h.K&&t._&&l(n,r)}function A(t,n){var r=t[H];return(r?s(r):t)[n]}function z(t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=Object.getPrototypeOf(r)}}function E(t){t.P||(t.P=!0,t.l&&E(t.l))}function R(t){t.i||(t.i=p(t.u))}function k(t,n,r){var e=c(n)?y(\"MapSet\").$(n,r):v(n)?y(\"MapSet\").C(n,r):t.S?function(t,n){var r=Array.isArray(t),e={t:r?1:0,A:n?n.A:b(),P:!1,R:!1,D:{},l:n,u:t,k:null,i:null,j:null,I:!1},i=e,u=Y;r&&(i=[e],u=Z);var o=Proxy.revocable(i,u),f=o.revoke,a=o.proxy;return e.k=a,e.j=f,a}(n,r):y(\"ES5\").J(n,r);return(r?r.A:b()).p.push(e),e}function F(u){return n(u)||t(22,u),function t(n){if(!r(n))return n;var u,a=n[H],c=i(n);if(a){if(!a.P&&(a.t<4||!y(\"ES5\").N(a)))return a.u;a.R=!0,u=D(n,c),a.R=!1}else u=D(n,c);return e(u,(function(n,r){a&&o(a.u,n)===r||f(u,n,t(r))})),3===c?new Set(u):u}(u)}function D(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return p(t)}function K(){function t(t,n){var r=f[t];return r?r.enumerable=n:f[t]=r={configurable:!0,enumerable:n,get:function(){return Y.get(this[H],t)},set:function(n){Y.set(this[H],t,n)}},r}function r(t){for(var n=t.length-1;n>=0;n--){var r=t[n][H];if(!r.P)switch(r.t){case 5:o(r)&&E(r);break;case 4:i(r)&&E(r)}}}function i(t){for(var n=t.u,r=t.k,e=T(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==H){var f=n[o];if(void 0===f&&!u(n,o))return!0;var c=r[o],v=c&&c[H];if(v?v.u!==f:!a(c,f))return!0}}var s=!!n[H];return e.length!==T(n).length+(s?0:1)}function o(t){var n=t.k;if(n.length!==t.u.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);return!(!r||r.get)}var f={};_(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var u=U(r);delete u[H];for(var o=T(u),f=0;f<o.length;f++){var a=o[f];u[a]=t(a,n||!!u[a].enumerable)}return Object.create(Object.getPrototypeOf(r),u)}(e,n),u={t:e?5:4,A:r?r.A:b(),P:!1,R:!1,D:{},l:r,u:n,k:i,i:null,O:!1,I:!1};return Object.defineProperty(i,H,{value:u,writable:!0}),i},M:function(t,i,f){f?n(i)&&i[H].A===t&&r(t.p):(t.o&&function t(n){if(n&&\"object\"==typeof n){var r=n[H];if(r){var i=r.u,f=r.k,a=r.D,c=r.t;if(4===c)e(f,(function(n){n!==H&&(void 0!==i[n]||u(i,n)?a[n]||t(f[n]):(a[n]=!0,E(r)))})),e(i,(function(t){void 0!==f[t]||u(f,t)||(a[t]=!1,E(r))}));else if(5===c){if(o(r)&&(E(r),a.length=!0),f.length<i.length)for(var v=f.length;v<i.length;v++)a[v]=!1;else for(var s=i.length;s<f.length;s++)a[s]=!0;for(var p=Math.min(f.length,i.length),l=0;l<p;l++)void 0===a[l]&&t(f[l])}}}}(t.p[0]),r(t.p))},N:function(t){return 4===t.t?i(t):o(t)}})}function $(){function f(t){if(!r(t))return t;if(Array.isArray(t))return t.map(f);if(c(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],f(t[1])]})));if(v(t))return new Set(Array.from(t).map(f));var n=Object.create(Object.getPrototypeOf(t));for(var e in t)n[e]=f(t[e]);return u(t,G)&&(n[G]=t[G]),n}function a(t){return n(t)?f(t):t}var s=\"add\";_(\"Patches\",{W:function(n,r){return r.forEach((function(r){for(var e=r.path,u=r.op,a=n,c=0;c<e.length-1;c++){var v=i(a),p=e[c];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||t(24),\"function\"==typeof a&&\"prototype\"===p&&t(24),\"object\"!=typeof(a=o(a,p))&&t(15,e.join(\"/\"))}var l=i(a),h=f(r.value),d=e[e.length-1];switch(u){case\"replace\":switch(l){case 2:return a.set(d,h);case 3:t(16);default:return a[d]=h}case s:switch(l){case 1:return a.splice(d,0,h);case 2:return a.set(d,h);case 3:return a.add(h);default:return a[d]=h}case\"remove\":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(r.value);default:return delete a[d]}default:t(17,u)}})),n},F:function(t,n,r,i){switch(t.t){case 0:case 4:case 2:return function(t,n,r,i){var f=t.u,c=t.i;e(t.D,(function(t,e){var v=o(f,t),p=o(c,t),l=e?u(f,t)?\"replace\":s:\"remove\";if(v!==p||\"replace\"!==l){var h=n.concat(t);r.push(\"remove\"===l?{op:l,path:h}:{op:l,path:h,value:p}),i.push(l===s?{op:\"remove\",path:h}:\"remove\"===l?{op:s,path:h,value:a(v)}:{op:\"replace\",path:h,value:a(v)})}}))}(t,n,r,i);case 5:case 1:return function(t,n,r,e){var i=t.u,u=t.D,o=t.i;if(o.length<i.length){var f=[o,i];i=f[0],o=f[1];var c=[e,r];r=c[0],e=c[1]}for(var v=0;v<i.length;v++)if(u[v]&&o[v]!==i[v]){var p=n.concat([v]);r.push({op:\"replace\",path:p,value:a(o[v])}),e.push({op:\"replace\",path:p,value:a(i[v])})}for(var l=i.length;l<o.length;l++){var h=n.concat([l]);r.push({op:s,path:h,value:a(o[l])})}i.length<o.length&&e.push({op:\"replace\",path:n.concat([\"length\"]),value:i.length})}(t,n,r,i);case 3:return function(t,n,r,e){var i=t.u,u=t.i,o=0;i.forEach((function(t){if(!u.has(t)){var i=n.concat([o]);r.push({op:\"remove\",path:i,value:t}),e.unshift({op:s,path:i,value:t})}o++})),o=0,u.forEach((function(t){if(!i.has(t)){var u=n.concat([o]);r.push({op:s,path:u,value:t}),e.unshift({op:\"remove\",path:u,value:t})}o++}))}(t,n,r,i)}},g:function(t,n,r,e){r.push({op:\"replace\",path:[],value:n}),e.push({op:\"replace\",path:[],value:t.u})}})}function C(){function n(t,n){function r(){this.constructor=t}f(t,n),t.prototype=(r.prototype=n.prototype,new r)}function i(t){t.i||(t.D=new Map,t.i=new Map(t.u))}function u(t){t.i||(t.i=new Set,t.u.forEach((function(n){if(r(n)){var e=k(t.A.h,n,t);t.p.set(n,e),t.i.add(e)}else t.i.add(n)})))}function o(n){n.O&&t(3,JSON.stringify(s(n)))}var f=function(t,n){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},a=function(){function t(t,n){return this[H]={t:2,l:n,A:n?n.A:b(),P:!1,R:!1,i:void 0,D:void 0,u:t,k:this,I:!1,O:!1},this}n(t,Map);var u=t.prototype;return Object.defineProperty(u,\"size\",{get:function(){return s(this[H]).size}}),u.has=function(t){return s(this[H]).has(t)},u.set=function(t,n){var r=this[H];return o(r),s(r).has(t)&&s(r).get(t)===n||(i(r),E(r),r.D.set(t,!0),r.i.set(t,n),r.D.set(t,!0)),this},u.delete=function(t){if(!this.has(t))return!1;var n=this[H];return o(n),i(n),E(n),n.D.set(t,!1),n.i.delete(t),!0},u.clear=function(){var t=this[H];o(t),s(t).size&&(i(t),E(t),t.D=new Map,e(t.u,(function(n){t.D.set(n,!1)})),t.i.clear())},u.forEach=function(t,n){var r=this;s(this[H]).forEach((function(e,i){t.call(n,r.get(i),i,r)}))},u.get=function(t){var n=this[H];o(n);var e=s(n).get(t);if(n.R||!r(e))return e;if(e!==n.u.get(t))return e;var u=k(n.A.h,e,n);return i(n),n.i.set(t,u),u},u.keys=function(){return s(this[H]).keys()},u.values=function(){var t,n=this,r=this.keys();return(t={})[L]=function(){return n.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:n.get(t.value)}},t},u.entries=function(){var t,n=this,r=this.keys();return(t={})[L]=function(){return n.entries()},t.next=function(){var t=r.next();if(t.done)return t;var e=n.get(t.value);return{done:!1,value:[t.value,e]}},t},u[L]=function(){return this.entries()},t}(),c=function(){function t(t,n){return this[H]={t:3,l:n,A:n?n.A:b(),P:!1,R:!1,i:void 0,u:t,k:this,p:new Map,O:!1,I:!1},this}n(t,Set);var r=t.prototype;return Object.defineProperty(r,\"size\",{get:function(){return s(this[H]).size}}),r.has=function(t){var n=this[H];return o(n),n.i?!!n.i.has(t)||!(!n.p.has(t)||!n.i.has(n.p.get(t))):n.u.has(t)},r.add=function(t){var n=this[H];return o(n),this.has(t)||(u(n),E(n),n.i.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var n=this[H];return o(n),u(n),E(n),n.i.delete(t)||!!n.p.has(t)&&n.i.delete(n.p.get(t))},r.clear=function(){var t=this[H];o(t),s(t).size&&(u(t),E(t),t.i.clear())},r.values=function(){var t=this[H];return o(t),u(t),t.i.values()},r.entries=function(){var t=this[H];return o(t),u(t),t.i.entries()},r.keys=function(){return this.values()},r[L]=function(){return this.values()},r.forEach=function(t,n){for(var r=this.values(),e=r.next();!e.done;)t.call(n,e.value,e.value,this),e=r.next()},t}();_(\"MapSet\",{$:function(t,n){return new a(t,n)},C:function(t,n){return new c(t,n)}})}var I;Object.defineProperty(exports,\"__esModule\",{value:!0});var J,N=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),W=\"undefined\"!=typeof Map,X=\"undefined\"!=typeof Set,q=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,B=N?Symbol.for(\"immer-nothing\"):((I={})[\"immer-nothing\"]=!0,I),G=N?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",H=N?Symbol.for(\"immer-state\"):\"__$immer_state\",L=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Q=\"\"+Object.prototype.constructor,T=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,U=Object.getOwnPropertyDescriptors||function(t){var n={};return T(t).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(t,r)})),n},V={},Y={get:function(t,n){if(n===H)return t;var e=s(t);if(!u(e,n))return function(t,n,r){var e,i=z(n,r);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(t.k):void 0}(t,e,n);var i=e[n];return t.R||!r(i)?i:i===A(t.u,n)?(R(t),t.i[n]=k(t.A.h,i,t)):i},has:function(t,n){return n in s(t)},ownKeys:function(t){return Reflect.ownKeys(s(t))},set:function(t,n,r){var e=z(s(t),n);if(null==e?void 0:e.set)return e.set.call(t.k,r),!0;if(!t.P){var i=A(s(t),n),o=null==i?void 0:i[H];if(o&&o.u===r)return t.i[n]=r,t.D[n]=!1,!0;if(a(r,i)&&(void 0!==r||u(t.u,n)))return!0;R(t),E(t)}return t.i[n]===r&&\"number\"!=typeof r||(t.i[n]=r,t.D[n]=!0,!0)},deleteProperty:function(t,n){return void 0!==A(t.u,n)||n in t.u?(t.D[n]=!1,R(t),E(t)):delete t.D[n],t.i&&delete t.i[n],!0},getOwnPropertyDescriptor:function(t,n){var r=s(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e?{writable:!0,configurable:1!==t.t||\"length\"!==n,enumerable:e.enumerable,value:r[n]}:e},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.u)},setPrototypeOf:function(){t(12)}},Z={};e(Y,(function(t,n){Z[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Z.deleteProperty=function(t,n){return Y.deleteProperty.call(this,t[0],n)},Z.set=function(t,n,r){return Y.set.call(this,t[0],n,r,t[0])};var tt=function(){function e(n){var e=this;this.S=q,this.K=!0,this.produce=function(n,i,u){if(\"function\"==typeof n&&\"function\"!=typeof i){var o=i;i=n;var f=e;return function(t){var n=this;void 0===t&&(t=o);for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return f.produce(t,(function(t){var r;return(r=i).call.apply(r,[n,t].concat(e))}))}}var a;if(\"function\"!=typeof i&&t(6),void 0!==u&&\"function\"!=typeof u&&t(7),r(n)){var c=x(e),v=k(e,n,void 0),s=!0;try{a=i(v),s=!1}finally{s?j(c):O(c)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(t){return m(c,u),S(t,c)}),(function(t){throw j(c),t})):(m(c,u),S(a,c))}if(!n||\"object\"!=typeof n){if((a=i(n))===B)return;return void 0===a&&(a=n),e.K&&l(a,!0),a}t(21,n)},this.produceWithPatches=function(t,n){return\"function\"==typeof t?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return e.produceWithPatches(n,(function(n){return t.apply(void 0,[n].concat(i))}))}:[e.produce(t,n,(function(t,n){r=t,i=n})),r,i];var r,i},\"boolean\"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),\"boolean\"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){r(e)||t(8),n(e)&&(e=F(e));var i=x(this),u=k(this,e,void 0);return u[H].I=!0,O(i),u},i.finishDraft=function(t,n){var r=(t&&t[H]).A;return m(r,n),S(void 0,r)},i.setAutoFreeze=function(t){this.K=t},i.setUseProxies=function(n){n&&!q&&t(20),this.S=n},i.applyPatches=function(t,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){t=i.value;break}}var u=y(\"Patches\").W;return n(t)?u(t,r):this.produce(t,(function(t){return u(t,r.slice(e+1))}))},e}(),nt=new tt,rt=nt.produce,et=nt.produceWithPatches.bind(nt),it=nt.setAutoFreeze.bind(nt),ut=nt.setUseProxies.bind(nt),ot=nt.applyPatches.bind(nt),ft=nt.createDraft.bind(nt),at=nt.finishDraft.bind(nt);exports.Immer=tt,exports.applyPatches=ot,exports.castDraft=function(t){return t},exports.castImmutable=function(t){return t},exports.createDraft=ft,exports.current=F,exports.default=rt,exports.enableAllPlugins=function(){K(),C(),$()},exports.enableES5=K,exports.enableMapSet=C,exports.enablePatches=$,exports.finishDraft=at,exports.freeze=l,exports.immerable=G,exports.isDraft=n,exports.isDraftable=r,exports.nothing=B,exports.original=function(r){return n(r)||t(23,r),r[H].u},exports.produce=rt,exports.produceWithPatches=et,exports.setAutoFreeze=it,exports.setUseProxies=ut;\n//# sourceMappingURL=immer.cjs.production.min.js.map\n","/* global firebase */\n\nimport CONFIG from \"../firebase.config\"\nimport { produce } from \"immer/dist/immer.cjs.production.min\";\n\nlet state = {\n  user: undefined,\n};\n\nconst app = firebase.initializeApp(CONFIG)\n\nconst auth = firebase.auth();\nconst db = firebase.firestore(app);\n\nconst user = {\n  userRef: undefined,\n  initialize(uid, { createUser = false } = {}) {\n    this.userRef = db.collection(\"users\").doc(uid);\n    if (createUser) {\n      this.update({ uid, createdOn: new Date() });\n    }\n  },\n  get() {\n    return this.userRef.get();\n  },\n  update(updates, merge = true) {\n    return this.userRef.set(updates, { merge });\n  }\n}\n\nasync function getStudies() {\n  return db.collection(\"studies\").get();\n}\n\nconst _stateChangeCallbacks = [];\n\nfunction _updateLocalState(callback) {\n  state = produce(state, callback);\n  _stateChangeCallbacks.forEach(callback => callback(state));\n}\n\nfunction listenForUserChanges(user) {\n  db.collection(\"users\").doc(user.uid)\n    .onSnapshot(doc => {\n      const nextState = doc.data();\n      _updateLocalState((draft) => {\n        draft.user = nextState;\n      });\n    })\n}\n\nfunction listenForStudyChanges() {\n  // get initial study payload.\n  db.collection(\"studies\").onSnapshot((querySnapshot) => {\n    const studies = [];\n    querySnapshot.forEach(function (doc) {\n      studies.push(doc.data());\n    });\n    _updateLocalState((draft) => {\n      draft.studies = studies;\n    });\n  });\n}\n\nlet USER_ID;\n\nexport default {\n\n  async loginWithGoogle() {\n    const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n    let userCredential = undefined;\n    try {\n      userCredential = await firebase.auth().signInWithPopup(googleAuthProvider);\n    } catch (err) {\n      console.error(\"there was an error\", err);\n    }\n    // create a new user.\n    user.initialize(userCredential.user.uid, { createUser: true });\n    listenForUserChanges(userCredential.user);\n    await this.notifyStudies(userCredential.credential.idToken);\n  },\n  async loginWithEmailAndPassword(email, password) {\n    let userCredential;\n    try {\n      userCredential = await firebase.auth().signInWithEmailAndPassword(email, password);\n    } catch (err) {\n      console.error(\"there was an error\", err);\n    }\n    if (userCredential) {\n      user.initialize(userCredential.user.uid);\n      listenForUserChanges(userCredential.user)\n    } else {\n      console.error(\"Unable to log in with email and password\");\n    }\n\n  },\n  async signupWithEmailAndPassword(email, password) {\n    let userCredential;\n    try {\n      userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);\n    } catch (err) {\n      console.error(\"there was an error\", err);\n    }\n    if (userCredential) {\n      user.initialize(userCredential.user.uid, { createUser: true });\n      listenForUserChanges(userCredential.user);\n    } else {\n      console.error(\"Unable to sign up with email and password\");\n    }\n  },\n\n  async initialize() {\n    const initialState = {};\n    let userState;\n\n    // check for an authenticated user.\n    const authenticatedUser = await new Promise((resolve) => {\n      auth.onAuthStateChanged(resolve);\n    });\n\n    // if the user is authenticated, then they must have a\n    // document in firestore. Retrieve it and listen for any changes\n    // to the firestore doc.\n    if (authenticatedUser !== null) {\n      USER_ID = authenticatedUser.uid;\n      user.initialize(USER_ID);\n      initialState._isLoggedIn = true;\n      userState = await user.get(authenticatedUser.uid);\n      userState = userState.data();\n      listenForUserChanges(authenticatedUser);\n    } else {\n      initialState._isLoggedIn = false;\n    }\n\n    // fetch the initial studies.\n    let initialStudyState = await getStudies();\n    initialStudyState = initialStudyState.docs.map(doc => doc.data());\n    listenForStudyChanges();\n\n    initialState._initialized = true;\n\n    if (userState) {\n      initialState.user = userState;\n    }\n\n    if (initialStudyState) {\n      initialState.studies = initialStudyState;\n    }\n\n    return initialState;\n\n  },\n\n  async notifyStudies(idToken) {\n    // Attempt to automatically log-in any valid study extensions, by passing them the ID token.\n    // TODO only supports Chrome auth provider\n    // TODO pull study IDs from metadata\n    for (const studyId of [\"maoohlacnogbjgacnnoajgljfcdbdocb\"]) {\n      chrome.runtime.sendMessage(studyId, idToken);\n    }\n  },\n\n  async updateStudyEnrollment(studyID, enroll) {\n    const enrolledStudies = { ...(state.user.enrolledStudies || {}) };\n    if (!(studyID in enrolledStudies)) { enrolledStudies[studyID] = {}; }\n    enrolledStudies[studyID] = { ...enrolledStudies[studyID] };\n    enrolledStudies[studyID].enrolled = enroll;\n    if (enroll) {\n      enrolledStudies[studyID].joinedOn = new Date();\n    }\n    user.userRef.update({ enrolledStudies });\n    return true;\n  },\n\n  async updatePlatformEnrollment(enrolled) {\n    user.update({ enrolled });\n  },\n\n  async updateDemographicSurvey(data) {\n    user.userRef.update({ demographicsData: data });\n  },\n\n  async setFirstRunCompletion(firstRunCompleted) {\n    return true;\n  },\n\n  onNextState(callback) {\n    _stateChangeCallbacks.push(callback);\n  }\n};\n\n\n// one-time opp to put the studies into firebase\n\nfunction addStudiesToFirebase() {\n  const studies = [\n    {\n      \"name\": \"Your Time Online and \\\"Doomscrolling\\\"\",\n      \"icons\": {\n        \"32\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2695/2695892-32.png\",\n        \"64\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2695/2695892-64.png\",\n        \"128\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2695/2695892-128.png\"\n      },\n      \"authors\": {\n        \"name\": \"Mozilla Rally Team\"\n      },\n      \"version\": \"0.1.3\",\n      \"addonId\": \"rally-study-01@mozilla.org\",\n      \"downloadLink\": \"https://addons.mozilla.org/firefox/downloads/latest/time-online-and-doomscrolling\",\n      \"endDate\": \"2021-10-13\",\n      \"studyEnded\": false,\n      \"studyPaused\": false,\n      \"description\": \"When you participate in this study you are helping Rally discover how our community browses the internet. We will explore interesting online patterns like \\\"doomscrolling\\\" – the popular term for browsing outrageous or sad online news for a long period of time. Our findings will lead to new Rally features or blog posts about aggregate online behavior.\",\n      \"studyDetailsLink\": \"https://rally.mozilla.org/current-studies/your-time-online-and-doomscrolling/\",\n      \"dataCollectionDetails\": [\n        \"Specific actions you take while browsing the web: loading a new URL, changing a tab, watching a video, or listening to audio (we do not collect the audio you are listening to, just that you have performed that action)\",\n        \"The domains you visit as you browse the web (e.g., wikipedia.org) and the title, description, and type of page that you're on (e.g., article, video, website)\",\n        \"The time spent on each page and how far you scroll down a page\"\n      ],\n      \"tags\": [\"community insights\", \"product discovery\"],\n      \"schemaNamespace\": \"rally-zero-one\"\n    },\n    {\n      \"name\": \"Political and COVID-19 News\",\n      \"icons\": {\n        \"32\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2706/2706717-32.png\",\n        \"64\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2706/2706717-64.png\",\n        \"128\": \"https://addons.cdn.mozilla.net/user-media/addon_icons/2706/2706717-128.png\"\n      },\n      \"authors\": {\n        \"name\": \"Researchers at Princeton\"\n      },\n      \"version\": \"2.0.0\",\n      \"addonId\": \"princeton-news-study@rally.mozilla.org\",\n      \"downloadLink\": \"https://github.com/citp/news-disinformation-study/releases/download/v2.0.1/princeton_university_news_study-2.0.1.xpi\",\n      \"endDate\": \"2021-10-27\",\n      \"studyEnded\": false,\n      \"studyPaused\": false,\n      \"description\": \"In a collaboration between researchers at Princeton University's Center for Information Technology Policy and Mozilla, this study seeks to examine the flow of both political and COVID-19 related news information across the internet. During the enrollment process, you'll receive more information about the study and you'll be asked by researchers at Princeton to consent to participation.\",\n      \"studyDetailsLink\": \"https://rally.mozilla.org/current-studies/political-and-covid-19-news/\",\n      \"dataCollectionDetails\": [\n        \"Visits, shares, and exposures to specific websites from an established list to spread authoritative information and disinformation\",\n        \"Whether you post links to these websites on social media\",\n        \"Your Rally demographics and a short Qualtrics survey\"\n      ],\n      \"tags\": [\"misinformation\", \"social media\"],\n      \"schemaNamespace\": \"pioneer-citp-news-disinfo-two\"\n    }\n  ]\n\n  studies.forEach(study => {\n    db.collection(\"studies\").doc(study.addonId).set(study, { merge: true });\n  });\n  return studies;\n}\n\n// addStudiesToFirebase();\n","export default {\n    apiKey: \"AIzaSyAJv0aTJMCbG_e6FJZzc6hSzri9qDCmvoo\",\n    authDomain: \"rally-web-spike.firebaseapp.com\",\n    projectId: \"rally-web-spike\",\n    storageBucket: \"rally-web-spike.appspot.com\",\n    messagingSenderId: \"85993993890\",\n    appId: \"1:85993993890:web:b975ff99733d2d8b50c9fb\"\n  };","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { writable } from \"svelte/store\";\nimport api from \"./web-site-api\";\n\nexport function createAppStore() {\n  // initialize the writable store.\n  const { subscribe, set } = writable({ _initialized: false });\n  api.initialize().then(state => {\n    set(state);\n  });\n  api.onNextState((state) => {\n    const nextState = {...state, _initialized: true };\n    set(nextState);\n  });\n\n  return {\n    subscribe,\n    set,\n    // login and signup functions\n    async loginWithGoogle() {\n      return api.loginWithGoogle();\n    },\n    async loginWithEmailAndPassword(email, password) {\n      return api.loginWithEmailAndPassword(email, password);\n    },\n    async signupWithEmailAndPassword(email, password) {\n      return api.signupWithEmailAndPassword(email, password);\n    },\n    async updateStudyEnrollment(studyID, enroll) {\n      // Enforce the truthyness of `enroll`, to make sure\n      // it's always a boolean.\n      const coercedEnroll = !!enroll;\n      console.debug(\n        `Rally - changing study ${studyID} enrollment to ${coercedEnroll}`);\n\n      // send study enrollment message\n      try {\n        await api.updateStudyEnrollment(studyID, coercedEnroll);\n      } catch (err) {\n        console.error(err);\n      }\n    },\n    async updatePlatformEnrollment(enroll) {\n      // Enforce the truthyness of `enroll`, to make sure\n      // it's always a boolean.\n      const coercedEnroll = !!enroll;\n      console.debug(`Rally - changing enrollment to ${coercedEnroll}`);\n\n      // send the ion enrollment message\n      try {\n        await api.updatePlatformEnrollment(coercedEnroll);\n      } catch (err) {\n        console.error(err);\n      }\n    },\n    async updateDemographicSurvey(data) {\n      try {\n        await api.updateDemographicSurvey(data);\n      } catch (err) {\n        console.error(\"Rally - failed to update the demographic survey\", err);\n      }\n    },\n    async setFirstRunCompletion(firstRun) {\n      try {\n        await api.setFirstRunCompletion(firstRun);\n      } catch (err) {\n        console.error(\"Rally - failed to set first run flag\", err);\n      }\n    }\n  };\n}\n\nexport const store = createAppStore();\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { writable, derived } from \"svelte/store\";\n\nconst NOTIFICATION_TIMEOUT = 2000;\n\nexport function createNotificationStore() {\n  const _notification = writable({ id: undefined});\n  let timeout;\n\n  function send({ message, type = \"default\", code }) {\n\t\t_notification.set({ id: id(), type, message, code });\n  }\n\n  function clear() {\n    _notification.set({ id: undefined });\n  }\n\n  const notifications = derived(_notification, ($notification, set) => {\n    // if there already was a notification, let's clear the timer\n    // and reset it here.\n    clearTimeout(timeout);\n    set($notification);\n\t\t// if this is not the reset message, set the timer.\n    if ($notification.id) {\n      timeout = setTimeout(clear, NOTIFICATION_TIMEOUT);\n    }\n  })\n  const { subscribe } = notifications;\n\n  return {\n    timeoutID: timeout,\n    subscribe,\n    send,\n    clear: () => {\n      clearTimeout(timeout);\n      clear();\n    },\n  }\n}\n\nfunction id() {\n  return '_' + Math.random().toString(36).substr(2, 9);\n}\n\nexport const notification = createNotificationStore();\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  export let noOverflow = false;\n</script>\n\n<style>\n  div {\n    min-height: 100vh;\n  }\n\n  .no-overflow {\n    overflow: hidden;\n  }\n</style>\n\n<div class=\"mzp-t-mozilla noise-background\" class:no-overflow={noOverflow}>\n  <slot />\n</div>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  export let padForOnboarding = false;\n</script>\n\n<style>\n  main {\n    width: var(--content-width);\n    margin: auto;\n    padding: 0;\n    padding-top: 2.5rem;\n    padding-bottom: var(--bottom-pad, 0);\n  }\n</style>\n\n<main\n  style=\"--bottom-pad: {padForOnboarding ? 'var(--onboarding-cta-offset)' : '0px'};\">\n  <slot />\n</main>\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { get_current_component as getComponent } from \"svelte/internal\";\n  import { forwardEvents } from \"./forwardEvents\";\n  // TODO: once this PR lands, let's refactor this\n  // to have (1) a size prop and (2) a variant prop.\n  // variant can be a string or array of strings.\n  export let size = \"md\";\n  export let neutral = false;\n  export let product = false;\n  export let secondary = false;\n  export let dark = false;\n  export let leave = false;\n  export let icon = false;\n  export let text = false;\n\n  // used in CTAs for error notifications.\n  export let error = false;\n\n  // used for very compact, small buttons.\n  export let compact = false;\n\n  export let disabled = false;\n\n  const forwardAll = forwardEvents(getComponent());\n\n  $: sizeClass = size ? `mzp-t-${size}` : undefined;\n  $: productClass = product ? `mzp-t-product` : undefined;\n  $: neutralClass = neutral ? `mzp-t-neutral` : undefined;\n  $: secondaryClass = secondary ? `mzp-t-secondary` : undefined;\n  $: darkClass = dark ? `mzp-t-dark` : undefined;\n  $: leaveClass = leave ? `mzp-t-leave` : undefined;\n  $: iconClass = icon ? \"mzp-t-icon\" : undefined;\n  $: textClass = text ? \"mzp-t-secondary mzp-t-text\" : undefined;\n  $: errorClass = error ? \"mzp-t-error\" : undefined;\n  $: compactClass = compact ? \"mzp-t-compact\" : undefined;\n  $: classSet = [\n    \"mzp-c-button\",\n    sizeClass,\n    productClass,\n    neutralClass,\n    darkClass,\n    secondaryClass,\n    leaveClass,\n    textClass,\n    iconClass,\n    errorClass,\n    compactClass,\n  ]\n    .filter((t) => t)\n    .join(\" \");\n</script>\n\n<button use:forwardAll class={classSet} {disabled}><slot /></button>\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n// based on https://github.com/hperrin/svelte-material-ui/blob/master/packages/common/forwardEvents.js\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { bubble, listen } from \"svelte/internal\";\n\nexport function forwardEvents(component, additionalEvents = []) {\n  const events = [\n    \"focus\",\n    \"blur\",\n    \"fullscreenchange\",\n    \"fullscreenerror\",\n    \"scroll\",\n    \"cut\",\n    \"copy\",\n    \"paste\",\n    \"keydown\",\n    \"keypress\",\n    \"keyup\",\n    \"auxclick\",\n    \"click\",\n    \"contextmenu\",\n    \"dblclick\",\n    \"mousedown\",\n    \"mouseenter\",\n    \"mouseleave\",\n    \"mousemove\",\n    \"mouseover\",\n    \"mouseout\",\n    \"mouseup\",\n    \"pointerlockchange\",\n    \"pointerlockerror\",\n    \"select\",\n    \"wheel\",\n    \"drag\",\n    \"dragend\",\n    \"dragenter\",\n    \"dragstart\",\n    \"dragleave\",\n    \"dragover\",\n    \"drop\",\n    \"touchcancel\",\n    \"touchend\",\n    \"touchmove\",\n    \"touchstart\",\n    \"pointerover\",\n    \"pointerenter\",\n    \"pointerdown\",\n    \"pointermove\",\n    \"pointerup\",\n    \"pointercancel\",\n    \"pointerout\",\n    \"pointerleave\",\n    \"gotpointercapture\",\n    \"lostpointercapture\",\n    ...additionalEvents,\n  ];\n\n  return (node) => {\n    const destructors = events.map((event) => {\n      return listen(node, event, (e) => bubble(component, e));\n    });\n\n    return {\n      destroy: () => {\n        destructors.forEach((destructor) => {\n          destructor();\n        });\n      },\n    };\n  };\n}\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { createEventDispatcher, getContext } from \"svelte\";\n  import { fly } from \"svelte/transition\";\n  import Button from \"../../components/Button.svelte\";\n  import ExternalLink from \"../../components/icons/ExternalLink.svelte\";\n  import FirstRunArrow from \"./FirstRunArrow.svelte\";\n  const dispatch = createEventDispatcher();\n\n  export let firstRunCompleted = false;\n\n  const store = getContext('rally:store');\n\n  // capture only the first value of firstRunCompleted.\n  const showArrow = !firstRunCompleted;\n  let email;\n  let password;\n</script>\n\n<style>\n  .mzp-c-call-out {\n    background-color: transparent;\n    min-height: calc(100vh - 2.5rem);\n    padding: 0;\n  }\n\n  .mzp-l-content {\n    padding-left: 0;\n    padding-right: 0;\n    /* this is Main + required padding to meet 120px */\n    padding-top: 80px;\n  }\n\n  .mzp-c-call-out-title {\n    margin-bottom: 12px;\n  }\n  .how-it-works {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  .ion-three-cards {\n    display: grid;\n    grid-template-columns: auto auto auto;\n    justify-content: space-evenly;\n    justify-items: center;\n    padding-top: 40px;\n    padding-bottom: 40px;\n  }\n\n  .ion-card-container {\n    display: grid;\n    grid-template-rows: auto auto;\n    justify-items: center;\n    align-items: center;\n    width: 170px;\n    color: var(--color-marketing-gray-70);\n  }\n  .ion-card-container img {\n    height: 138px;\n  }\n\n  .ion-card-description {\n    /* padding: 0.75rem; */\n    padding-bottom: 0;\n    align-self: start;\n  }\n\n  .mzp-c-field-label {\n    text-align: left;\n  }\n  .mzp-c-field-set {\n    width: max-content;\n    margin: auto;\n  }\n</style>\n\n<section class=\"mzp-c-call-out\">\n  <div class=\"mzp-l-content\" in:fly={{ duration: 800, y: 5 }}>\n    <h2\n      class=\"mzp-c-call-out-title mzp-has-zap-1\"\n      in:fly={{ duration: 800, y: 5 }}>\n      <img src=\"img/logo-wide.svg\" alt=\"Mozilla Rally Logo\" />\n    </h2>\n\n    <p\n      class=\"mzp-c-call-out-desc\"\n      style=\"color: var(--color-marketing-gray-70);\n\">\n      This is a feasibility spike centered around bringing Rally into the web.\n    </p>\n    <div style=\"padding: 2rem;\">\n      <button \n        on:click={async () => {\n          await store.loginWithGoogle();\n          dispatch('user-signup-login-complete');\n        }}\n        style=\"display: grid; place-items: center; padding: .5rem 1rem; background-color: white;\n        color: hsl(217, 10%, 20%);\n        text-decoration: none;\n        width: max-content;\n        border: 2px solid #5e5e72;\n        margin: auto;\n        border-radius: 4px;\n        font-weight: 600;\n      \">\n        Sign up with Google (FIXME IMG)\n    </button>\n    </div>\n      <div class=\"mzp-c-form-header\" style=\"font-weight: bold; font-size: 1.25rem;\">\n        or\n      </div>\n      <fieldset class=\"mzp-c-field-set\">\n        <div class=\"mzp-c-field \">\n          <label class=\"mzp-c-field-label\"\n           for=\"id_name\" >Email</label>\n          <input class=\"mzp-c-field-control \" bind:value={email}\n           id=\"id_name\" type=\"email\">\n    \n        </div>\n        <div class=\"mzp-c-field \">\n          <label class=\"mzp-c-field-label\"\n           for=\"id_user_email\">Password</label>\n          <input class=\"mzp-c-field-control\" bind:value={password}\n           id=\"id_user_email\" type=\"password\">\n        </div>\n      </fieldset>\n      <div class=\"mzp-c-form-footer\">\n        <button \n        on:click={async () => {\n          await store.loginWithEmailAndPassword(email, password);\n          dispatch('user-signup-login-complete');\n        }}\n      class=\"mzp-c-button\">Log In</button>\n        <button\n          on:click={async () => {\n            await store.signupWithEmailAndPassword(email, password);\n            dispatch('user-signup-login-complete');\n          }}\n        class=\"mzp-c-button mzp-t-secondary\">Sign Up</button>\n        <p class=\"mzp-c-form-info mzp-t-xs\">This site is protected by reCAPTCHA, and the Google Privacy Policy and Terms of Service apply.</p>\n      </div>\n    <div class=\"how-it-works\">\n      <a class=\"external-link\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"__BASE_SITE__/how-rally-works/\">Wait – how does it work again?\n        <ExternalLink /></a>\n    </div>\n  </div>\n</section>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n  * License, v. 2.0. If a copy of the MPL was not distributed with this\n  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  export let size = \"1em\";\n  export let color = \"currentColor\";\n</script>\n\n<!--\nThis icon was adapted from the Photon Design System (licensed under the MPL v2.0):\nhttps://design.firefox.com/photon/\nhttps://github.com/FirefoxUX/photon-icons/blob/master/icons/desktop/close-16.svg\n-->\n<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  width={size}\n  height={size}\n  viewBox=\"0 0 16 16\">\n  <path\n    fill={color}\n    d=\"M9.061 8l3.47-3.47a.75.75 0 0 0-1.061-1.06L8 6.939 4.53 3.47a.75.75 0 1\n    0-1.06 1.06L6.939 8 3.47 11.47a.75.75 0 1 0 1.06 1.06L8 9.061l3.47\n    3.47a.75.75 0 0 0 1.06-1.061z\" />\n</svg>\n  ","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { fly } from 'svelte/transition';\n  import CloseSmall from '../../components/icons/CloseSmall.svelte';\n</script>\n\n<style>\n/*\n    Because this button's styling deviates a bit from the protocol buttons,\n    we will special-case this for now and build off the protocol styles.\n    Down the line, if this button style should be reused, we can\n    move this into Button.svelte with an appropriate variant name.\n*/\nbutton.mzp-t-sm.mzp-c-button.mzp-t-neutral.mzp-t-product {\n    position: absolute;\n    display: inline-grid;\n    grid-column-gap: 5.66px;\n    margin: 0;\n    padding: 0;\n    /* note: Button component border is 1px */\n    padding-left: 7px;\n    padding-right: 7px;\n    padding-top: 5.5px;\n    padding-bottom: 5.5px;\n    font-size: 10px;\n    font-weight: 600;\n    line-height: 1;\n    margin-left: 12px;\n    color: #000;\n}\n</style>\n\n<button transition:fly|local={{duration:150, y: 2.5}} class=\"gafc mzp-t-sm mzp-c-button mzp-t-neutral mzp-t-product\" on:click>\n    <CloseSmall /> Clear this response\n</button>\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n /**\n  * Constructs an answer object based on the schema & any pre-existing answers.\n  * @param {object} schema \n  * @param {object} currentAnswers the current survey answers, if any. If there is an entry in currentAnswers\n  * that does not exist in the schema, will ignore the value and only impute values outlined in the schema.\n  * This ensures that the working answer object will always be up-to-date with the latest schema.\n  * @returns {object} the schema with default answers to questions, and any additional \n  * pre-existing answers from currentAnswers.\n  */\nexport function createResultObject(schema, currentAnswers) {\n    return Object.values(schema).reduce((acc, config) => {\n        let defaultValue = undefined;\n        switch (config.type) {\n          case \"single\": {\n            defaultValue = undefined;\n            break;\n          }\n          case \"multi\": {\n            defaultValue = [];\n            break;\n          }\n          case \"text\": {\n            defaultValue = \"\";\n            break;\n          }\n          default:\n            break;\n        }\n        // create response entry here.\n        let answer;\n        if (currentAnswers && currentAnswers[config.key] !== undefined) {\n          answer = currentAnswers[config.key];\n        } else {\n          answer = defaultValue;\n        }\n        acc[config.key] = answer;\n        return acc;\n      }, {});\n}\n\nexport function questionIsAnswered(answer, questionType) {\n  if (answer === undefined) return false;\n  if (questionType === 'text') return answer.length > 0;\n  if (questionType === 'single') return answer !== undefined;\n  if (questionType === 'multi') return answer.length > 0;\n  throw Error('unknown question type');\n}\n\n/**\n * Clears the display version of the answer.\n * @param {string} questionType the question type (one of text, single, or multi)\n * @returns {string || undefined || []} \n */\nexport function clearAnswer(questionType) {\n  switch (questionType) {\n    case \"text\": {\n      return '';\n    } case \"single\": {\n      return undefined;\n    } case \"multi\": {\n      return [];\n    } default: {\n      throw Error('question must have a type');\n    }\n  }\n}\n\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { questionIsAnswered } from \"./survey-tools.js\";\n\n /** This Svelte action will format an input element on input, focus, and blur events. \n  * It takes in a formatter below of type FieldFormatter.\n */\nexport function formatInput(node, formatter) {\n    function input(event) {\n      event.target.value = formatter.edit(event.target.value);\n    }\n    function focus(event) {\n      event.target.value = formatter.edit(event.target.value);\n    }\n\n    function blur(event) {\n      event.target.value = formatter.display(event.target.value);\n    }\n    if (formatter) {\n      node.addEventListener('input', input);\n      node.addEventListener('focus', focus);\n      node.addEventListener('blur', blur);\n      if (formatter.alignRight) {\n        node.classList.add('right');\n      }\n    }\n    \n    return {\n      destroy() {\n        if (formatter) {\n          node.classList.remove('right');\n          node.removeEventListener('input', input);\n          node.removeEventListener('focus', focus);\n          node.removeEventListener('blur', blur);\n        }\n      }\n    }\n  }\n\n/**\n * Formatters for free-text questions that require (1) formatting and (2) validating the values entred in,\n * usually on blur.\n */\n\n// a FieldFormatter instance has a blur, focus, and input callback.\n// it will manage some state to tell the system when to show the invalid state.\n// it also has an isInvalid function that should return true whenever the value is invalid.\n\nexport class FieldFormatter {\n    constructor(parameters = {}) { \n      this.alignRight = !!parameters.alignRight || false;\n      this.showValidationErrors = false; \n    }\n  \n    /** The validator function tells us if an input is valid. */\n    setValidator(callback) {\n      this.isInvalid = callback;\n    }\n  \n    /** We use this formatter when we begin editing an input element.\n     * This is typically used on the input and focus events.\n     */\n    formatForEditing(callback) {\n      this.edit =(value) => {\n        // show the validation errors for this while blurred.\n        this.showValidationErrors = false;\n        return callback(value);\n      }; \n    }\n  \n    /** We use this formatter when we are ready to display the number\n     * back to the user. This is typically used on the blur event.\n     */\n    formatForDisplay(callback) {\n      this.display = (value) => {\n        // hide the validation errors for this while focused.\n        this.showValidationErrors = true;\n        return callback(value);\n      }; \n    }\n  \n    /** We use this formatter when we are transforming the input text\n     * into the final response required by the schema.\n     * Unlike the others, the callback should take a value as an argument,\n     * not an event.\n     */\n    formatForResponse(callback) {\n      this.response = callback;\n    }\n  }\n    \n  export function currencyFormatter() {\n    const formatCurrencyInput = (value) => {\n      if (value === undefined) {\n        return '';\n      }\n      const r = /^\\d/;\n      return value.split('').filter(a => r.test(a)).join('');\n    }\n    \n    const currency = new FieldFormatter({ alignRight: true });\n    \n    currency.formatForDisplay((value) => {\n      let intermediateValue = value;\n      // handle the v1 schema and transform it to an empty string.\n      // Note: this handling will not scale over time.\n      if (typeof intermediateValue === 'string' && intermediateValue.includes('_')) {\n        return '';\n      }\n      // handle the case of the response value being a number that neesd to be \n      // turned into a number-string first.\n      if (typeof intermediateValue === 'number') {\n        intermediateValue = (Math.floor(intermediateValue)).toString();\n      } else if (typeof intermediateValue !== 'string') {\n        // Reset the intermediate value to be an empty string in this case.\n        // This will reset any non-standard or previous schema type response value\n        // for this field.\n        intermediateValue = '';\n      }\n      const toCurrency = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        maximumFractionDigits: 0,\n      });\n      // strip the current input of any non-numerics.\n      const finalValue = formatCurrencyInput(intermediateValue);\n      // don't display any currency if the string is empty\n      return finalValue.length ? toCurrency.format(finalValue) : '';\n    })\n  \n    currency.formatForEditing(formatCurrencyInput);\n  \n    currency.formatForResponse((value) => {\n      return value.length ? +formatCurrencyInput(value) : undefined;\n    })\n  \n    return currency;\n  }\n  \n  export function zipcodeFormatter() {\n    const formatZipcodeInput = (value) => {\n      if (value === undefined) {\n        return '';\n      }\n      const r = /^\\d/;\n      return value.split('').filter(a => r.test(a)).join('').slice(0,5);\n    }\n    \n    const zipcode = new FieldFormatter({ alignRight: false });\n  \n    zipcode.formatForDisplay(formatZipcodeInput);\n    zipcode.formatForEditing(formatZipcodeInput);\n    zipcode.formatForResponse(formatZipcodeInput);\n    zipcode.setValidator((text) => {\n        if (text === undefined) return false;\n        const number = Number(text);\n        if (text.length > 0 && text.length < 5) return 'zipcode must be a five-digit number';\n        if (Number.isNaN(number)) return 'zipcode must be a five-digit number';\n        return false;\n      });\n    return zipcode;\n  }\n  \n  export const formatters = {\n    currency: currencyFormatter,\n    zipcode: zipcodeFormatter\n  }\n  \nexport function createInputFormatters(schema) {\n  const availableFormatters = Object.keys(schema).reduce((acc,v) => {\n    const formatter = schema[v].formatter;\n    if (formatter) {\n      if (formatter in formatters) {\n        acc[v] = formatters[formatter]();\n      } else {\n        console.error(`error: formatter ${formatter} is not valid`)\n      }\n    }\n    return acc;\n  }, {});\n  return {\n      validateAllQuestions(schema, answers) {\n      return Object.keys(schema).every(key => {\n        if (!this.hasValidator(key)) return true;\n        return this.hasValidator(key) && !this[key].isInvalid(answers[key]);\n      })\n    },\n    exists(key) {\n      return (key in this);\n    },\n    has(key, functionName) {\n      return (this.exists(key) && functionName in this[key])\n    },\n    hasValidator(key) {\n      return this.has(key, 'isInvalid');\n    },\n    showErrors(key) {\n      return this[key].showValidationErrors;\n    },\n    hasInput(key) {\n      return this.has(key, 'edit');\n    },\n    hasBlur(key) {\n      return this.has(key, 'display');\n    },\n    hasFocus(key) {\n      return this.has(key, 'edit');\n    },\n    hasDisplay(key) {\n      return this.has(key, 'display');\n    },\n    hasEdit(key) {\n      return this.has(key, 'edit');\n    },\n    hasResponse(key) {\n      return this.has(key, 'response');\n    },\n    ...availableFormatters\n  }\n}\n  \nexport function _formatFor(schema, answers, formatters, formatType, removeUnanswered = false) {\n  const transformedAnswers = {};\n  Object.keys(schema).forEach(key => {\n    const answer = answers[key];\n    \n    if (!removeUnanswered || questionIsAnswered(answer, schema[key].type))\n    if (schema[key].type === 'text') {\n      if (formatters.has(key, formatType)) {\n        transformedAnswers[key] = formatters[key][formatType](answer);\n      } else {\n        transformedAnswers[key] = answer;\n      }\n    } else if (schema[key].type === 'multi') {\n      transformedAnswers[key] = answer ? [...answer] : [];\n    } else if (schema[key].type === 'single') {\n      transformedAnswers[key] = answer;\n    }\n  });\n  return transformedAnswers;\n}\n\nexport function formatAnswersForResponse(schema, answers, formatters) {\n  return _formatFor(schema, answers, formatters, 'response', true);\n}\n\nexport function formatAnswersForDisplay(schema, answers, formatters) {\n  return _formatFor(schema, answers, formatters, 'display');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { createInputFormatters } from './formatters';\n\nexport const schema = {\n    age: {\n      key: \"age\",\n      label: \"1. What is your age?\",\n      type: \"single\",\n      columns: true,\n      values: [\n        { key: \"19_24\", label: \"19-24 years old\" },\n        { key: \"25_34\", label: \"25-34 years old\" },\n        { key: \"35_44\", label: \"35-44 years old\" },\n        { key: \"45_54\", label: \"45-54 years old\" },\n        { key: \"55_64\", label: \"55-64 years old\" },\n        { key: \"over_65\", label: \"65 years and older\" },\n      ],\n    },\n    gender: {\n      key: \"gender\",\n      label: \"2. What is your gender?\",\n      type: \"single\",\n      columns: true,\n      values: [\n        { key: \"male\", label: \"Male\" },\n        { key: \"female\", label: \"Female\" },\n        { key: \"neither\", label: \"Neither choice describes me\" },\n        { key: \"decline\", label: \"Decline to identify\" },\n      ],\n    },\n    hispanicLatinxSpanishOrigin: {\n      key: \"hispanicLatinxSpanishOrigin\",\n      label: \"3. Are you of Hispanic, Latinx, or Spanish origin?\",\n      type: \"single\",\n      values: [\n        { key: \"other\", label: \"No, not of Hispanic, Latinx, or Spanish origin\" },\n        { key: \"hispanicLatinxSpanish\", label: \"Yes\" },\n      ],\n    },\n    race: {\n      key: \"race\",\n      label: \"4. What is your race / ethnicity?\",\n      type: \"multi\",\n      columns: true,\n      values: [\n        {\n          key: \"american_indian_or_alaska_native\",\n          label: \"American Indian or Alaska Native\",\n        },\n        { key: \"asian_indian\", label: \"Asian Indian\" },\n        {\n          key: \"black_or_african_american\",\n          label: \"Black or African American\",\n        },\n        { key: \"chamorro\", label: \"Chamorro\" },\n        { key: \"chinese\", label: \"Chinese\" },\n        { key: \"filipino\", label: \"Filipino\" },\n        { key: \"japanese\", label: \"Japanese\" },\n        { key: \"korean\", label: \"Korean\" },\n        { key: \"native_hawaiian\", label: \"Native Hawaiian\" },\n        { key: \"samoan\", label: \"Samoan\" },\n        { key: \"vietnamese\", label: \"Vietnamese\" },\n        { key: \"white\", label: \"White\" },\n        { key: \"other_asian\", label: \"Other Asian\" },\n        { key: \"other_pacific_islander\", label: \"Other Pacific Islander\" },\n        { key: \"some_other_race\", label: \"Some other race\" },\n      ],\n    },\n\n    school: {\n      key: \"school\",\n      label: \"5. What is the highest level of school you have completed?\",\n      type: \"single\",\n      values: [\n        { key: \"less_than_high_school\", label: \"Less than high school\" },\n        { key: \"some_high_school\", label: \"Some high school\" },\n        {\n          key: \"high_school_graduate_or_equivalent\",\n          label: \"High school graduate or equivalent (for example GED)\",\n        },\n        {\n          key: \"some_college_but_no_degree_or_in_progress\",\n          label: \"Some college, but degree not received or in progress\",\n        },\n        {\n          key: \"associates_degree\",\n          label: \"Associate's degree (for example AA, AS)\",\n        },\n        {\n          key: \"bachelors_degree\",\n          label: \"Bachelor's degree (for example BA, BS, BB)\",\n        },\n        {\n          key: \"graduate_degree\",\n          label:\n            \"Graduate degree (for example master's, professional, doctorate)\",\n        },\n      ],\n    },\n    exactIncome: {\n      key: \"exactIncome\",\n      label:\n        \"6. What is your household's combined annual income during the past 12 months?\",\n      sublabel: \"Please provide an approximate estimate in US Dollars:\",\n      type: \"text\",\n      formatter: \"currency\"\n    },\n    zipcode: {\n      key: \"zipcode\",\n      label: \"7. What is your zip code?\",\n      type: \"text\",\n      formatter: \"zipcode\"\n    },\n  };\n\nexport const inputFormatters = createInputFormatters(schema);\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { fly } from \"svelte/transition\";\n  import ClearAnswerButton from './ClearAnswerButton.svelte';\n  import { schema, inputFormatters } from './survey-schema';\n  import { questionIsAnswered, clearAnswer,  createResultObject } from './survey-tools';\n  import { formatInput, formatAnswersForResponse } from \"./formatters\";\n\n  export let results = createResultObject(schema);\n  export let workingResults = createResultObject(schema, results);\n  $: workingResults = createResultObject(schema, workingResults);\n  // create the outputted formatted workingResults.\n  export let formattedResults = formatAnswersForResponse(schema, workingResults, inputFormatters);\n  $: formattedResults = formatAnswersForResponse(schema, workingResults, inputFormatters);\n</script>\n\n<style>\n  /* this selects only checkbox or radio */\n  [class=\"mzp-c-choice\"] {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    gap: 1rem;\n  }\n\n  .mzp-c-choice-text {\n    min-height: 1rem;\n  }\n\n  .mzp-c-field-set-text {\n    padding-bottom: 0;\n  }\n\n  .mzp-c-field-label.remove-bottom-margin {\n    padding-bottom: 0;\n  }\n\n  .mzp-c-choice {\n    padding-bottom: 8px;\n  }\n\n  .mzp-c-choice-label {\n    font-weight: normal;\n    font-size: 1rem;\n  }\n\n  label,\n  input {\n    cursor: pointer;\n  }\n\n  input[type=\"text\"] {\n    cursor: auto;\n    border: 2px solid #CDCDD4;\n    width: 140px;\n    min-width: 140px;\n    transition: border-color 200ms;\n  }\n\n  input[type=\"text\"].right {\n    text-align: right;\n  }\n  input[type=\"text\"]:focus {\n    border-color: #0250bb;\n    box-shadow: 0 0 0 2px #0250bb;\n  }\n  .mzp-is-error input[type=\"text\"] {\n    border: 2px solid #D70022;\n    color: #D70022;\n  }\n\n  .mzp-is-error input[type=\"text\"]:focus {\n    box-shadow: 0 0 0 2px #D70022;\n  }\n\n  .mzp-c-choice-control[type=\"radio\"] + label,\n  .mzp-c-choice-control[type=\"checkbox\"] + label {\n    margin-left: 0.5rem;\n  }\n\n  /* correct for Protocol's radio and checkbox misalignments */\n  .mzp-c-choice-control[type=\"radio\"] + label::before {\n    transform: translateY(0.25rem);\n  }\n\n  .mzp-c-choice-control[type=\"checkbox\"] + label::before {\n    transform: translateY(0.25rem);\n  }\n\n  .mzp-c-choice-control[type=\"checkbox\"]:checked + label::after {\n    transform: translateY(0.215rem) rotate(45deg);\n  }\n\n  legend {\n    color: var(--color-ink-50);\n    font-size: 1rem;\n  }\n\n  fieldset {\n    /* position: inherit; */\n    padding-bottom: 60px;\n  }\n\n  fieldset:last-child {\n    padding-bottom: 0;\n  }\n\n  .mzp-c-choices {\n    width: 100%;\n    padding-bottom: 0;\n    padding-left: 1rem;\n  }\n\n  .two-columns {\n    display: grid;\n    grid-auto-flow: column;\n    grid-template-columns: max-content max-content;\n    grid-template-rows: repeat(var(--rows, 3), max-content);\n    justify-content: start;\n    width: max-content;\n    grid-column-gap: 4rem;\n  }\n</style>\n\n<div in:fly={{ duration: 800, y: 5 }}>\n  <h2 class='section-header'>\n    <slot name=\"title\">\n      <span>Tell Us About Yourself</span>\n    </slot>\n  </h2>\n\n  <slot name=\"description\">\n    <p>\n      Each question is completely optional, and can be updated at any time by clicking Manage Profile. \n      The answers you give will help us understand the composition and representivity of the Rally community.\n      Additionally, collaborators will combine your answers with the data collected in the studies you join to enrich their findings and answer research questions.\n    </p>\n  </slot>\n\n  <hr />\n\n  <form class=\"mzp-c-form\">\n    {#each Object.keys(workingResults) as question}\n      <fieldset class=\"mzp-c-field-set\" class:mzp-c-field-set-text={schema[question].type === 'text'}>\n        <legend class=\"mzp-c-field-label\"\n          for={schema[question].key}\n          class:remove-bottom-margin={schema[question].sublabel}\n        >\n          {schema[question].label}\n          {#if questionIsAnswered(workingResults[question], schema[question].type)}\n            <ClearAnswerButton on:click={(e) => {\n              e.preventDefault();\n              workingResults[question] = clearAnswer(schema[question].type);\n            }} />\n          {/if}\n        </legend>\n        {#if schema[question].sublabel}\n        <div style=\"padding-top: -8px; padding-bottom: 20px;\">\n          {schema[question].sublabel}\n        </div>\n      {/if}\n\n        <div\n          class=\"mzp-c-choices\"\n          class:two-columns={schema[question].columns}\n          style=\"--rows: {schema[question].values ? Math.ceil(schema[question].values.length / 2) : 0};\">\n          {#if schema[question].type === 'text'}\n            <div\n              class=\"mzp-c-choice mzp-c-choice-text\"\n              class:mzp-is-error={\n                inputFormatters.showErrors(question) &&\n                inputFormatters.hasValidator(question) &&\n                inputFormatters[question].isInvalid(workingResults[question])\n            }>\n              <input\n                type=\"text\"\n                use:formatInput={inputFormatters[question]}\n                class:right={inputFormatters[question].alignRight}\n                on:blur={(event) => { workingResults[question] = event.target.value; }}\n                on:focus={(event) => { workingResults[question] = event.target.value; }}\n                on:input={(event) => { workingResults[question] = event.target.value; }}\n                value={workingResults[question]}\n                />\n                <span style=\"min-height: 24px; display: block;\">\n              {#if \n                  inputFormatters.showErrors(question) && // show errors if blurred\n                  inputFormatters.hasValidator(question) && // show errors if there's a validator for this question\n                  inputFormatters[question].isInvalid(workingResults[question])\n                }\n                <span\n                  class=\"mzp-c-fieldnote\"\n                  transition:fly={{ duration: 300, y: 5 }}>\n                  {inputFormatters[question].isInvalid(workingResults[question])}\n                </span>\n              {/if}\n              </span>\n            </div>\n          {:else}\n            {#each schema[question].values as answer}\n              <div class=\"mzp-c-choice\">\n                {#if schema[question].type === 'single'}\n                  <input\n                    class=\"mzp-c-choice-control\"\n                    type=\"radio\"\n                    id=\"answer-{answer.key}\"\n                    bind:group={workingResults[question]}\n                    value={answer.key} />\n                {:else if schema[question].type === 'multi'}\n                  <input\n                    class=\"mzp-c-choice-control\"\n                    type=\"checkbox\"\n                    id=\"answer-{answer.key}\"\n                    bind:group={workingResults[question]}\n                    value={answer.key} />\n                {/if}\n                <label class=\"mzp-c-choice-label\" for=\"answer-{answer.key}\">\n                  {answer.label}\n                </label>\n              </div>\n            {/each}\n          {/if}\n        </div>\n      </fieldset>\n    {/each}\n  </form>\n  <!-- Add a slot to aid in  -->\n  <slot name='call-to-action' formattedResults={formatAnswersForResponse(schema, workingResults, inputFormatters)} validated={inputFormatters.validateAllQuestions(schema, workingResults)}></slot>\n</div>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { fly } from \"svelte/transition\";\n\n  export let onboarding = true;\n</script>\n\n<style>\n  h3 {\n    font-size: 24px;\n    margin-bottom: 8px;\n    margin-top: 2em;\n    font-family: \"Zilla Slab\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\",\n      \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n\n  p, div, li {\n    letter-spacing: -.01em;\n  }\n\n  h4 {\n    font-size: 16px;\n    margin-bottom: 4px;\n    margin-top: 0;\n    font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\",\n      \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n  h2,\n  h3,\n  h4 {\n    color: var(--color-ink-50);\n  }\n\n  p,\n  ul {\n    color: var(--color-marketing-gray-70);\n  }\n\n  hr {\n    border-top: .5px dashed var(--color-black);\n    margin-bottom: 2rem;\n  }\n\n  .icon-explanation-block {\n    display: grid;\n    grid-template-columns: [icon] 140px [body] auto;\n    grid-template-rows: auto;\n    grid-row-gap: 40px;\n    grid-column-gap: 27px;\n    padding-top: 16px;\n    padding-bottom: 24px;\n  }\n\n  .icon-block-left {\n    margin: auto;\n    grid-column: icon;\n    justify-self: center;\n  }\n\n  .icon-block-right {\n    grid-column: body;\n    align-self: center;\n    max-width: 504px;\n    color: var(--color-marketing-gray-70);\n  }\n\n  .icon-block-right p:last-child {\n    margin: 0;\n  }\n  .align-start {\n    margin: 0 auto;\n  }\n\n  .mzp-u-list-styled li {\n    margin-bottom: .5em;\n  }\n</style>\n\n<div in:fly={{ duration: 800, y: 5 }}>\n  <h2 class='section-header'>Our Privacy Notice</h2>\n\n  {#if onboarding}\n    <p>\n      Before you get started, please make sure you're comfortable with our privacy notice.\n    </p>\n  {:else}\n    <p>\n      Put your data to work and start building a better internet.\n    </p>\n  {/if}\n\n  <hr />\n\n  <h3>Introduction</h3>\n\n  <p>In this notice, we detail what data Mozilla Rally collects and discloses, and why it does so.</p>\n\n  <div class=\"icon-explanation-block\">\n    <img class=\"icon-block-left\" width=84 src=\"img/new-platform.png\" alt=\"Mozilla Rally is a new platform created to empower people to contribute their data towards <b>building a better internet\" />\n    <div class=\"icon-block-right\">\n      Mozilla Rally is a <b>new platform</b> created to empower people to \n      contribute their data towards <b>building a better internet</b>.\n    </div>\n    <img class=\"icon-block-left\" width=111 src=\"img/who-is-eligible.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class=\"icon-block-right\"  style=\"max-width: 514px;\">\n      It is currently available to Firefox users in the U.S. who are 19 or older.\n    </div>\n    <img class=\"icon-block-left\" width=83 src=\"img/notice-covers-rally.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class=\"icon-block-right\">\n      <b>This notice only covers Rally itself</b>, as each study will have a\n      unique privacy notice detailing how data is collected and handled in \n      that particular study. We also adhere to the <a href=\"https://www.mozilla.org/en-US/privacy/\" target=\"_blank\" rel=\"noopener noreferrer\">Mozilla Privacy Policy</a>\n      for how we receive, handle, and share information.\n    </div>\n  </div>\n  <h3>Types of Information We Collect</h3>\n\n  <p>We'll ask for your consent before we collect any of your info, which could include:</p>\n\n  <div class='icon-explanation-block'>\n\n    <img class=\"icon-block-left\" width=95 src=\"img/your-demographic-data.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class=\"icon-block-right\">\n      <h4>Your Demographic Data</h4>\n      <div>\n        This includes your <b>age</b>, <b>gender</b>, <b>race/ethnicity</b>, \n        <b>education level</b>, <b>household income</b>, and <b>zip code</b>.\n        This is entirely optional.\n      </div>\n    </div>\n\n    <img class=\"icon-block-left\" width=109 src=\"img/your-technical-data.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class=\"icon-block-right\">\n      <h4>Your Device's Technical Data</h4>\n      <div>\n        This includes your device's <b>operating system</b> and <b>IP address</b> (which we'll only hang on to temporarily).\n      </div>\n    </div>\n\n    <img class=\"icon-block-left\" width=97 src=\"img/your-interaction-data.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class=\"icon-block-right\">\n      <h4>Your Interaction Data</h4>\n      <div>\n        This includes your <b>interactions with Firefox</b>, like the number and type of Firefox Add-ons you have installed, \n        your interactions with the Rally add-on itself, or the duration of your active browsing session.\n      </div>\n    </div>\n\n  <img class=\"icon-block-left\" width=82 src=\"img/your-location-data.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n  <div class=\"icon-block-right\">\n    <h4>Your Location Data</h4>\n    <div>\n      This includes your <b>country</b>, <b>city</b>, and <b>state</b> location, which is\n      determined by your <b>IP address</b>.\n    </div>\n  </div>\n</div>\n\n  <h3>How We Use Your Information</h3>\n\n  <p>\n    We use the information we collect for research and development, which could mean:\n  </p>\n\n  <div class='icon-explanation-block'>\n    <img class=\"icon-block-left align-start\" width=125 src=\"img/how-we-use-your-information.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <ul class=\"mzp-u-list-styled icon-block-right\">\n      <li>\n        determining which Rally participants could be eligible to participate\n        in particular research studies, should they choose to enroll\n      </li>\n      <li>\n        ensuring that the data we collect represents the diverse communities\n        that use the internet\n      </li>\n      <li>\n        improving Mozilla's existing products and services\n      </li>\n      <li>\n        creating and developing new products\n      </li>\n    </ul>\n  </div>\n\n  <h3>Who We May Share Information With</h3>\n\n  <p>\n    We may share information with trusted entities that help us fulfill our mission, including:\n  </p>\n\n  <div class='icon-explanation-block'>\n\n    <img class=\"icon-block-left\" width=99 src=\"img/data-storage-provider.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class='icon-block-right'>\n      <h4>Our Data Storage Provider</h4>\n\n      <div>\n        We use Google's cloud storage service to store the data collected\n        through Rally. Google only stores Rally data and <b>cannot use that\n          data for its own purposes</b>.\n      </div>\n    </div>\n\n    <img class=\"icon-block-left\" width=117 src=\"img/our-research-collaborators.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class='icon-block-right'>\n      <h4>Our Research Collaborators</h4>\n\n      <div>\n        Rally collaborates with trusted third parties to build and release studies. \n        For any studies you join, we may ask you to share the data collected\n        under <b>this Privacy Notice</b> with third party researcher(s)\n        administering the study. Our research collaborators are under contracts\n        with Mozilla to ensure that <b>your data is protected</b> and handled only\n        in ways we've approved.\n      </div>\n    </div>\n\n    <img class=\"icon-block-left\" width=118 src=\"img/people-like-you.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <div class='icon-block-right'>\n      <h4>People Like You (only aggregated data)</h4>\n\n      <div>\n        Our mission is focused on <b>empowering everyday citizens</b>, not just a\n        select few. To that end, we may release aggregated, de-identified data sets\n        to help further public knowledge on certain issues. These\n        data sets will be <b>stripped of any identifiable data</b>, and won't reveal\n        anything about individual users.\n      </div>\n    </div>\n  </div>\n\n  <h3>How You Can Manage Your Data</h3>\n  <p>Our \"opt-in\" approach to data collection means that you choose which data you share with us.</p>\n\n  <div class='icon-explanation-block' style=\"padding-bottom: 48px;\">\n    <img class=\"icon-block-left\" width=96 src=\"img/manage-your-data.png\" alt=\"It is currently available to Firefox users in the U.S. who are 19 or older.\" />\n    <!-- accommodate the link breaking -->\n    <div class='icon-block-right'>\n    <p>Rally operates based on <b>your participation</b> – meaning you can\n    choose to disclose the level of information you're comfortable with, either by finding a study\n  that matches your level of comfort or by declining to share demographic information in your profile. <br /><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://support.mozilla.org/en-US/kb/mozilla-rally-managing-account-data\">Learn more about managing your data</a>.</p>\n  <p>If you have any other questions regarding our privacy practices, please contact us at <a href='mailto:compliance@mozilla.com'>compliance@mozilla.com</a>.</p>\n</div>\n  </div>\n\n\n\n</div>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { onMount } from \"svelte\";\n  export let step = 1;\n  export let totalSteps = 3;\n  export let transparent = false;\n\n  let scrollY = 0;\n  let innerHeight = 0;\n  let bodyHeight = 0;\n\n  onMount(() => {\n    bodyHeight = document.body.clientHeight;\n    // observe ANY resizes of the browser window, the view port,\n    // or whatever, and update the bodyHeight accordingly.\n    const resizer = new ResizeObserver(([e]) => {\n      bodyHeight = e.contentRect.height;\n    });\n    resizer.observe(document.body);\n  });\n\n  let PX_OFFSET = 130;\n\n  $: gradient = Math.min(1, (bodyHeight - (scrollY + innerHeight)) / PX_OFFSET);\n\n  $: style = transparent\n    ? `--background: none`\n    : `\n--background: linear-gradient(\n    to bottom,\n    transparent 0%,\n    rgba(249, 249, 251, ${gradient}) 45%\n  );\n`;\n</script>\n\n<style>\n  .onboarding-cta-container {\n    pointer-events: none;\n    background-blend-mode: screen;\n    height: var(--onboarding-cta-height);\n    background: var(--background);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    display: grid;\n    grid-template-rows: [blank] 2fr [call-to-action] 1fr [steps] 1fr;\n    align-items: center;\n  }\n\n  .onboarding-cta-inner {\n    pointer-events: auto;\n    align-self: end;\n    grid-row: call-to-action;\n    width: var(--content-width);\n  }\n\n  .onboarding-cta-inner,\n  .onboarding-cta-steps {\n    width: var(--content-width);\n    margin: auto;\n  }\n\n  .onboarding-cta-steps {\n    grid-row: steps;\n    display: grid;\n    grid-auto-flow: column;\n    grid-column-gap: 0.5rem;\n    align-content: center;\n    justify-content: center;\n    min-height: 4rem;\n  }\n\n  .onboarding-cta-step {\n    width: 80px;\n    height: 5px;\n    border-radius: 5px;\n    background-color: var(--color-light-gray-90);\n    transition: opacity 200ms;\n  }\n</style>\n\n<svelte:window bind:scrollY bind:innerHeight />\n\n<div class=\"onboarding-cta-container\" {style}>\n  <div class=\"onboarding-cta-inner\">\n    <slot />\n  </div>\n  <div class=\"onboarding-cta-steps\">\n    {#each Array.from({ length: totalSteps }).map((_, i) => i) as s}\n      <div\n        class=\"onboarding-cta-step\"\n        style=\"opacity: {s + 1 === step ? '1' : '.25'};\" />\n    {/each}\n  </div>\n</div>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { draw, fly } from \"svelte/transition\";\n  export let delay = 0;\n</script>\n\n<svg\n  width=\"63\"\n  height=\"129\"\n  viewBox=\"0 0 63 129\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    d=\"M1 127.619C21.591 127.619 45.2219 104 48 86.6193C50.7781 69.2386 49 52.5 37 52.5C25 52.5 24.5 64.7377 39 67.5C53.5 70.2623 90 42.8807 21 6\"\n    stroke=\"url(#paint0_linear)\"\n    stroke-width=\"2\"\n    in:draw={{ duration: 1000, delay }}\n    out:draw|local={{ duration: 500, delay }}\n    stroke-linecap=\"round\" />\n  <g\n    in:fly={{ x: 10, y: 5, delay: 800 + delay, opacity: 0 }}\n    out:fly|local={{ duration: 350, delay, x: 20, y: 10 }}>\n    <path\n      d=\"M16.7936 6.80449C16.2329 5.50077 15.0019 2.53349 15.5375 1.87833C16.1876 1.08304 17.9814 1.6468 20.0777 2.08646C21.8484 2.45783 24.5709 2.9662 24.3878 4.0835C24.2626 4.84797 21.9746 4.79424 20.8596 6.12262C20.0794 7.05222 19.8038 9.26208 19.0255 9.56392C18.2472 9.86577 17.3544 8.10822 16.7936 6.80449Z\"\n      fill=\"#F53A68\" />\n  </g>\n  <defs>\n    <linearGradient\n      id=\"paint0_linear\"\n      x1=\"50.7846\"\n      y1=\"-43.3675\"\n      x2=\"-35.6052\"\n      y2=\"104.653\"\n      gradientUnits=\"userSpaceOnUse\">\n      <stop stop-color=\"#FF9100\" />\n      <stop offset=\"0.489583\" stop-color=\"#F10366\" />\n      <stop offset=\"1\" stop-color=\"#6173FF\" />\n    </linearGradient>\n  </defs>\n</svg>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { createEventDispatcher } from \"svelte\";\n  import { fade, fly } from \"svelte/transition\";\n  import Arrow02 from \"../../components/Arrow02.svelte\";\n  import Button from \"../../components/Button.svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  let scrollY = 0;\n\n  let showArrow = true;\n  $: if (scrollY > 20) {\n    showArrow = false;\n  } else {\n    showArrow = true;\n  }\n\n  let intro = false;\n</script>\n\n<style>\n  .call-flow {\n    grid-template-columns: max-content max-content auto 0;\n  }\n\n  .arrow {\n    width: 0;\n    height: 0;\n    display: inline-block;\n    transform: translateY(-129px);\n  }\n</style>\n\n<svelte:window bind:scrollY />\n\n<div\n  class=\"call-flow\"\n  in:fly={{ duration: 200, y: 5 }}\n  on:introend={() => {\n    intro = true;\n  }}>\n  <Button size=\"xl\" product on:click={() => dispatch('save')}>\n    Save & Continue\n  </Button>\n  <Button size=\"xl\" product secondary on:click={() => dispatch('skip')}>\n    Skip for Now\n  </Button>\n  {#if showArrow & intro}\n    <div\n      transition:fade|local={{ duration: 400 }}\n      class=\"shortcut-callout\"\n      style=\"text-align: right;\">\n      the following 7<br/> questions are optional\n    </div>\n    <div class=\"arrow\">\n      <Arrow02 />\n    </div>\n  {/if}\n</div>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { draw, fly } from \"svelte/transition\";\n\n  let delay = 0;\n</script>\n\n<svg\n  width=\"111\"\n  height=\"177\"\n  viewBox=\"0 0 111 177\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    d=\"M1 176C26.3297 176 57 169.224 57 126C57 99.847 37.5 90 33 107C30.1049 117.937 45.3328 163.572 86.4877 134.123C119.5 110.5 117.91 17.9607 72 4.50003\"\n    stroke=\"url(#paint0_linear)\"\n    stroke-width=\"2\"\n    in:draw={{ duration: 1000, delay }}\n    out:draw|local={{ duration: 500, delay }}\n    stroke-linecap=\"round\" />\n  <g\n    in:fly={{ x: 10, y: 5, delay: 800 + delay, opacity: 0 }}\n    out:fly|local={{ duration: 350, delay, x: 20, y: 10 }}>\n    <path\n      d=\"M69.2988 6.44407C68.4185 5.33089 66.4586 2.78549 66.8055 2.01365C67.2266 1.07674 69.1053 1.15493 71.2439 1.03466C73.0503 0.933065 75.8113 0.716407 75.9249 1.8429C76.0026 2.61366 73.7793 3.15641 73.0479 4.72891C72.5361 5.82934 72.8443 8.03488 72.1712 8.52863C71.4981 9.02238 70.1792 7.55726 69.2988 6.44407Z\"\n      fill=\"#FF9101\" />\n  </g>\n  <defs>\n    <linearGradient\n      id=\"paint0_linear\"\n      x1=\"69.5015\"\n      y1=\"5.00034\"\n      x2=\"1.00103\"\n      y2=\"176\"\n      gradientUnits=\"userSpaceOnUse\">\n      <stop stop-color=\"#FF9100\" />\n      <stop offset=\"0.489583\" stop-color=\"#F10366\" />\n      <stop offset=\"1\" stop-color=\"#6173FF\" />\n    </linearGradient>\n  </defs>\n</svg>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { createEventDispatcher } from \"svelte\";\n  import { fade, fly } from \"svelte/transition\";\n  import Arrow01 from \"../../components/Arrow01.svelte\";\n  import Button from \"../../components/Button.svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  let scrollY = 0;\n\n  let showArrow = true;\n  $: if (scrollY > 20) {\n    showArrow = false;\n  } else {\n    showArrow = true;\n  }\n\n  let intro = false;\n</script>\n\n<style>\n  .call-flow {\n    grid-template-columns: max-content max-content auto 0;\n  }\n\n  .arrow {\n    width: 0;\n    height: 0;\n    display: inline-block;\n    transform: translateY(-177px);\n  }\n</style>\n\n<svelte:window bind:scrollY />\n\n<div\n  class=\"call-flow\"\n  in:fly={{ duration: 200, y: 5 }}\n  out:fly={{ duration: 200, y: -5 }}\n  on:introend={() => {\n    intro = true;\n  }}>\n  <Button size=\"xl\" product on:click={() => dispatch('accept')}>\n    Accept & Enroll\n  </Button>\n  <Button size=\"xl\" product secondary on:click={() => dispatch('cancel')}>\n    Cancel\n  </Button>\n  {#if showArrow && intro}\n    <div\n      transition:fade={{ duration: 400 }}\n      class=\"shortcut-callout\"\n      style=\"text-align: right;\">\n      please read through before accepting\n    </div>\n    <div class=\"arrow\">\n      <Arrow01 />\n    </div>\n  {/if}\n</div>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { onMount, getContext, createEventDispatcher, tick } from \"svelte\";\n  import Layout from \"../components/layouts/OnboardingLayout.svelte\";\n  import Main from \"../components/layouts/OnboardingBody.svelte\";\n  import Welcome from \"../routes/welcome/Content.svelte\";\n  import Demographics from \"./demographics/Content.svelte\";\n  import TermsOfService from \"./terms-of-service/Content.svelte\";\n  import OnboardingCTAContainer from \"../components/OnboardingCTAContainer.svelte\";\n\n  import DemographicsCallToAction from \"./demographics/CallToAction.svelte\";\n  import TermsCallToAction from \"./terms-of-service/CallToAction.svelte\";\n\n  export let view = \"welcome\";\n  export let firstRunCompleted = false;\n\n  let mounted = false;\n\n  const store = getContext(\"rally:store\");\n\n  const dispatch = createEventDispatcher();\n\n  onMount(() => {\n    mounted = true;\n    // dispatch the first-run-initiated event.\n    // This will tell the Core Add-On's store\n    // that we don't need to show first-run graphics\n    // such as the arrow pointing to the add-on\n    // in the toolbar.\n\n    // if authenticated already, skip welcome page.\n\n    dispatch(\"first-run-initiated\");\n  });\n\n  $: if (view === 'welcome' && $store.user && $store.user.uid && $store.user.enrolled) {\n    finishOnboarding();\n  }\n  $: if (view === 'welcome' && $store.user && $store.user.uid && !$store.user.enrolled) {\n    send('terms');\n  }\n\n  function send(next) {\n    view = next;\n    window.scrollTo(0, 0);\n  }\n\n  function step(w) {\n    if (w === \"welcome\") return 1;\n    if (w === \"terms\") return 2;\n    if (w === \"demographics\") return 3;\n    return 1;\n  }\n\n  function finishOnboarding() {\n    dispatch(\"onboarding-complete\");\n  }\n\n  let formattedResults;\n</script>\n\n{#if mounted}\n  <div>\n    <Layout>\n      <Main padForOnboarding={view !== 'welcome'}>\n        {#if view === 'welcome'}\n          <Welcome\n            firstRunCompleted={firstRunCompleted}\n            on:user-signup-login-complete={() => {\n              if ($store.user) {\n                send(\"terms\");\n              }\n            }}\n            />\n        {:else if view === 'terms'}\n          <TermsOfService />\n        {:else if view === 'demographics'}\n          <Demographics bind:formattedResults />\n        {/if}\n      </Main>\n      <OnboardingCTAContainer\n        step={step(view)}\n        transparent={view === 'welcome'}>\n        {#if view === 'terms'}\n          <TermsCallToAction\n            on:accept={() => {\n              // Join Rally.\n              store.updatePlatformEnrollment(true);\n              send('demographics');\n            }}\n            on:cancel={() => {\n              send('welcome');\n            }} />\n        {:else if view === 'demographics'}\n          <DemographicsCallToAction\n            on:save={() => {\n              // Submit Demographics here.\n              store.updateDemographicSurvey(formattedResults);\n              // move to the main view.\n              finishOnboarding();\n            }}\n            on:skip={finishOnboarding} />\n        {/if}\n      </OnboardingCTAContainer>\n    </Layout>\n  </div>\n{/if}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar MicroModal = function () {\n\n  var FOCUSABLE_ELEMENTS = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])', 'select:not([disabled]):not([aria-hidden])', 'textarea:not([disabled]):not([aria-hidden])', 'button:not([disabled]):not([aria-hidden])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex^=\"-\"])'];\n\n  var Modal = /*#__PURE__*/function () {\n    function Modal(_ref) {\n      var targetModal = _ref.targetModal,\n          _ref$triggers = _ref.triggers,\n          triggers = _ref$triggers === void 0 ? [] : _ref$triggers,\n          _ref$onShow = _ref.onShow,\n          onShow = _ref$onShow === void 0 ? function () {} : _ref$onShow,\n          _ref$onClose = _ref.onClose,\n          onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n          _ref$openTrigger = _ref.openTrigger,\n          openTrigger = _ref$openTrigger === void 0 ? 'data-micromodal-trigger' : _ref$openTrigger,\n          _ref$closeTrigger = _ref.closeTrigger,\n          closeTrigger = _ref$closeTrigger === void 0 ? 'data-micromodal-close' : _ref$closeTrigger,\n          _ref$openClass = _ref.openClass,\n          openClass = _ref$openClass === void 0 ? 'is-open' : _ref$openClass,\n          _ref$disableScroll = _ref.disableScroll,\n          disableScroll = _ref$disableScroll === void 0 ? false : _ref$disableScroll,\n          _ref$disableFocus = _ref.disableFocus,\n          disableFocus = _ref$disableFocus === void 0 ? false : _ref$disableFocus,\n          _ref$awaitCloseAnimat = _ref.awaitCloseAnimation,\n          awaitCloseAnimation = _ref$awaitCloseAnimat === void 0 ? false : _ref$awaitCloseAnimat,\n          _ref$awaitOpenAnimati = _ref.awaitOpenAnimation,\n          awaitOpenAnimation = _ref$awaitOpenAnimati === void 0 ? false : _ref$awaitOpenAnimati,\n          _ref$debugMode = _ref.debugMode,\n          debugMode = _ref$debugMode === void 0 ? false : _ref$debugMode;\n\n      _classCallCheck(this, Modal);\n\n      // Save a reference of the modal\n      this.modal = document.getElementById(targetModal); // Save a reference to the passed config\n\n      this.config = {\n        debugMode: debugMode,\n        disableScroll: disableScroll,\n        openTrigger: openTrigger,\n        closeTrigger: closeTrigger,\n        openClass: openClass,\n        onShow: onShow,\n        onClose: onClose,\n        awaitCloseAnimation: awaitCloseAnimation,\n        awaitOpenAnimation: awaitOpenAnimation,\n        disableFocus: disableFocus\n      }; // Register click events only if pre binding eventListeners\n\n      if (triggers.length > 0) this.registerTriggers.apply(this, _toConsumableArray(triggers)); // pre bind functions for event listeners\n\n      this.onClick = this.onClick.bind(this);\n      this.onKeydown = this.onKeydown.bind(this);\n    }\n    /**\n     * Loops through all openTriggers and binds click event\n     * @param  {array} triggers [Array of node elements]\n     * @return {void}\n     */\n\n\n    _createClass(Modal, [{\n      key: \"registerTriggers\",\n      value: function registerTriggers() {\n        var _this = this;\n\n        for (var _len = arguments.length, triggers = new Array(_len), _key = 0; _key < _len; _key++) {\n          triggers[_key] = arguments[_key];\n        }\n\n        triggers.filter(Boolean).forEach(function (trigger) {\n          trigger.addEventListener('click', function (event) {\n            return _this.showModal(event);\n          });\n        });\n      }\n    }, {\n      key: \"showModal\",\n      value: function showModal() {\n        var _this2 = this;\n\n        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        this.activeElement = document.activeElement;\n        this.modal.setAttribute('aria-hidden', 'false');\n        this.modal.classList.add(this.config.openClass);\n        this.scrollBehaviour('disable');\n        this.addEventListeners();\n\n        if (this.config.awaitOpenAnimation) {\n          var handler = function handler() {\n            _this2.modal.removeEventListener('animationend', handler, false);\n\n            _this2.setFocusToFirstNode();\n          };\n\n          this.modal.addEventListener('animationend', handler, false);\n        } else {\n          this.setFocusToFirstNode();\n        }\n\n        this.config.onShow(this.modal, this.activeElement, event);\n      }\n    }, {\n      key: \"closeModal\",\n      value: function closeModal() {\n        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var modal = this.modal;\n        this.modal.setAttribute('aria-hidden', 'true');\n        this.removeEventListeners();\n        this.scrollBehaviour('enable');\n\n        if (this.activeElement && this.activeElement.focus) {\n          this.activeElement.focus();\n        }\n\n        this.config.onClose(this.modal, this.activeElement, event);\n\n        if (this.config.awaitCloseAnimation) {\n          var openClass = this.config.openClass; // <- old school ftw\n\n          this.modal.addEventListener('animationend', function handler() {\n            modal.classList.remove(openClass);\n            modal.removeEventListener('animationend', handler, false);\n          }, false);\n        } else {\n          modal.classList.remove(this.config.openClass);\n        }\n      }\n    }, {\n      key: \"closeModalById\",\n      value: function closeModalById(targetModal) {\n        this.modal = document.getElementById(targetModal);\n        if (this.modal) this.closeModal();\n      }\n    }, {\n      key: \"scrollBehaviour\",\n      value: function scrollBehaviour(toggle) {\n        if (!this.config.disableScroll) return;\n        var body = document.querySelector('body');\n\n        switch (toggle) {\n          case 'enable':\n            Object.assign(body.style, {\n              overflow: ''\n            });\n            break;\n\n          case 'disable':\n            Object.assign(body.style, {\n              overflow: 'hidden'\n            });\n            break;\n        }\n      }\n    }, {\n      key: \"addEventListeners\",\n      value: function addEventListeners() {\n        this.modal.addEventListener('touchstart', this.onClick);\n        this.modal.addEventListener('click', this.onClick);\n        document.addEventListener('keydown', this.onKeydown);\n      }\n    }, {\n      key: \"removeEventListeners\",\n      value: function removeEventListeners() {\n        this.modal.removeEventListener('touchstart', this.onClick);\n        this.modal.removeEventListener('click', this.onClick);\n        document.removeEventListener('keydown', this.onKeydown);\n      }\n    }, {\n      key: \"onClick\",\n      value: function onClick(event) {\n        if (event.target.hasAttribute(this.config.closeTrigger)) {\n          this.closeModal(event);\n        }\n      }\n    }, {\n      key: \"onKeydown\",\n      value: function onKeydown(event) {\n        if (event.keyCode === 27) this.closeModal(event); // esc\n\n        if (event.keyCode === 9) this.retainFocus(event); // tab\n      }\n    }, {\n      key: \"getFocusableNodes\",\n      value: function getFocusableNodes() {\n        var nodes = this.modal.querySelectorAll(FOCUSABLE_ELEMENTS);\n        return Array.apply(void 0, _toConsumableArray(nodes));\n      }\n      /**\n       * Tries to set focus on a node which is not a close trigger\n       * if no other nodes exist then focuses on first close trigger\n       */\n\n    }, {\n      key: \"setFocusToFirstNode\",\n      value: function setFocusToFirstNode() {\n        var _this3 = this;\n\n        if (this.config.disableFocus) return;\n        var focusableNodes = this.getFocusableNodes(); // no focusable nodes\n\n        if (focusableNodes.length === 0) return; // remove nodes on whose click, the modal closes\n        // could not think of a better name :(\n\n        var nodesWhichAreNotCloseTargets = focusableNodes.filter(function (node) {\n          return !node.hasAttribute(_this3.config.closeTrigger);\n        });\n        if (nodesWhichAreNotCloseTargets.length > 0) nodesWhichAreNotCloseTargets[0].focus();\n        if (nodesWhichAreNotCloseTargets.length === 0) focusableNodes[0].focus();\n      }\n    }, {\n      key: \"retainFocus\",\n      value: function retainFocus(event) {\n        var focusableNodes = this.getFocusableNodes(); // no focusable nodes\n\n        if (focusableNodes.length === 0) return;\n        /**\n         * Filters nodes which are hidden to prevent\n         * focus leak outside modal\n         */\n\n        focusableNodes = focusableNodes.filter(function (node) {\n          return node.offsetParent !== null;\n        }); // if disableFocus is true\n\n        if (!this.modal.contains(document.activeElement)) {\n          focusableNodes[0].focus();\n        } else {\n          var focusedItemIndex = focusableNodes.indexOf(document.activeElement);\n\n          if (event.shiftKey && focusedItemIndex === 0) {\n            focusableNodes[focusableNodes.length - 1].focus();\n            event.preventDefault();\n          }\n\n          if (!event.shiftKey && focusableNodes.length > 0 && focusedItemIndex === focusableNodes.length - 1) {\n            focusableNodes[0].focus();\n            event.preventDefault();\n          }\n        }\n      }\n    }]);\n\n    return Modal;\n  }();\n  /**\n   * Modal prototype ends.\n   * Here on code is responsible for detecting and\n   * auto binding event handlers on modal triggers\n   */\n  // Keep a reference to the opened modal\n\n\n  var activeModal = null;\n  /**\n   * Generates an associative array of modals and it's\n   * respective triggers\n   * @param  {array} triggers     An array of all triggers\n   * @param  {string} triggerAttr The data-attribute which triggers the module\n   * @return {array}\n   */\n\n  var generateTriggerMap = function generateTriggerMap(triggers, triggerAttr) {\n    var triggerMap = [];\n    triggers.forEach(function (trigger) {\n      var targetModal = trigger.attributes[triggerAttr].value;\n      if (triggerMap[targetModal] === undefined) triggerMap[targetModal] = [];\n      triggerMap[targetModal].push(trigger);\n    });\n    return triggerMap;\n  };\n  /**\n   * Validates whether a modal of the given id exists\n   * in the DOM\n   * @param  {number} id  The id of the modal\n   * @return {boolean}\n   */\n\n\n  var validateModalPresence = function validateModalPresence(id) {\n    if (!document.getElementById(id)) {\n      console.warn(\"MicroModal: \\u2757Seems like you have missed %c'\".concat(id, \"'\"), 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'ID somewhere in your code. Refer example below to resolve it.');\n      console.warn(\"%cExample:\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', \"<div class=\\\"modal\\\" id=\\\"\".concat(id, \"\\\"></div>\"));\n      return false;\n    }\n  };\n  /**\n   * Validates if there are modal triggers present\n   * in the DOM\n   * @param  {array} triggers An array of data-triggers\n   * @return {boolean}\n   */\n\n\n  var validateTriggerPresence = function validateTriggerPresence(triggers) {\n    if (triggers.length <= 0) {\n      console.warn(\"MicroModal: \\u2757Please specify at least one %c'micromodal-trigger'\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'data attribute.');\n      console.warn(\"%cExample:\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', \"<a href=\\\"#\\\" data-micromodal-trigger=\\\"my-modal\\\"></a>\");\n      return false;\n    }\n  };\n  /**\n   * Checks if triggers and their corresponding modals\n   * are present in the DOM\n   * @param  {array} triggers   Array of DOM nodes which have data-triggers\n   * @param  {array} triggerMap Associative array of modals and their triggers\n   * @return {boolean}\n   */\n\n\n  var validateArgs = function validateArgs(triggers, triggerMap) {\n    validateTriggerPresence(triggers);\n    if (!triggerMap) return true;\n\n    for (var id in triggerMap) {\n      validateModalPresence(id);\n    }\n\n    return true;\n  };\n  /**\n   * Binds click handlers to all modal triggers\n   * @param  {object} config [description]\n   * @return void\n   */\n\n\n  var init = function init(config) {\n    // Create an config object with default openTrigger\n    var options = Object.assign({}, {\n      openTrigger: 'data-micromodal-trigger'\n    }, config); // Collects all the nodes with the trigger\n\n    var triggers = _toConsumableArray(document.querySelectorAll(\"[\".concat(options.openTrigger, \"]\"))); // Makes a mappings of modals with their trigger nodes\n\n\n    var triggerMap = generateTriggerMap(triggers, options.openTrigger); // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateArgs(triggers, triggerMap) === false) return; // For every target modal creates a new instance\n\n    for (var key in triggerMap) {\n      var value = triggerMap[key];\n      options.targetModal = key;\n      options.triggers = _toConsumableArray(value);\n      activeModal = new Modal(options); // eslint-disable-line no-new\n    }\n  };\n  /**\n   * Shows a particular modal\n   * @param  {string} targetModal [The id of the modal to display]\n   * @param  {object} config [The configuration object to pass]\n   * @return {void}\n   */\n\n\n  var show = function show(targetModal, config) {\n    var options = config || {};\n    options.targetModal = targetModal; // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateModalPresence(targetModal) === false) return; // clear events in case previous modal wasn't close\n\n    if (activeModal) activeModal.removeEventListeners(); // stores reference to active modal\n\n    activeModal = new Modal(options); // eslint-disable-line no-new\n\n    activeModal.showModal();\n  };\n  /**\n   * Closes the active modal\n   * @param  {string} targetModal [The id of the modal to close]\n   * @return {void}\n   */\n\n\n  var close = function close(targetModal) {\n    targetModal ? activeModal.closeModalById(targetModal) : activeModal.closeModal();\n  };\n\n  return {\n    init: init,\n    show: show,\n    close: close\n  };\n}();\nwindow.MicroModal = MicroModal;\n\nexport default MicroModal;\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { onMount, onDestroy } from \"svelte\";\nlet ref;\nlet portal;\nlet mounted = false;\nonMount(() => {\n    portal = document.createElement(\"div\");\n    portal.className = \"portal\";\n    document.body.appendChild(portal);\n    portal.appendChild(ref);\n    mounted = true;\n});\nonDestroy(() => {\n    document.body.removeChild(portal);\n});\n</script>\n\n<div class=\"gp-portal\" style=\"display: none;\">\n    <div bind:this={ref}>\n        <slot />\n    </div>\n</div>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n export let size = \"1em\";\n  export let color = \"currentColor\";\n</script>\n\n<!--\nThis icon was adapted from the Photon Design System (licensed under the MPL v2.0):\nhttps://design.firefox.com/photon/\nhttps://github.com/FirefoxUX/photon-icons/blob/master/icons/desktop/close-16.svg\n-->\n<svg width={size} height={size} viewBox=\"0 0 39 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.75 29.25L29.25 9.75M9.75 9.75L29.25 29.25L9.75 9.75Z\" stroke={color} stroke-width=\"2\" stroke-linecap=\"round\"/>\n</svg>\n  \n","<script context=module>\nimport MicroModal from \"micromodal\";\nMicroModal.init({ disableScroll: true, disableFocus: true });\n</script>\n\n<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { createEventDispatcher, onMount, onDestroy } from \"svelte\";\n  import { fly, fade } from \"svelte/transition\";\n  import Portal from './Portal.svelte';\n  import Close from \"./icons/Close.svelte\";\n\n  export let width;\n  export let height;\n  export let topPadding;\n\n  function toVariable(key, value) {\n    return value ? `${key}: ${value};` : undefined;\n  }\n\n  function addStyleVariables({width, height, topPadding}) {\n    const values = [\n      toVariable(\"--width\", width), \n      toVariable(\"--height\", height),\n      toVariable(\"--top-padding\", topPadding)].filter(d=> d !== undefined);\n    if (values.length === 0) return undefined;\n    return values.join('; ');\n  }\n\n  $: styles = addStyleVariables({width, height, topPadding});\n\n  const dispatch = createEventDispatcher();\n  const key =\n    `modal-${Math.random().toString(36).substring(2, 15) +\n    Math.random().toString(36).substring(2, 15)}`;\n\n  function onCancel() {\n    MicroModal.close(key);\n    dispatch(\"cancel\");\n  }\n\n  function onAccept() {\n    MicroModal.close(key);\n    dispatch(\"accept\");\n  }\n\n  function onDismiss() {\n    dispatch(\"dismiss\");\n  }\n\n  function dismissParent(e) {\n    if (e.target === e.currentTarget) onDismiss();\n  }\n\n  function handleKeydown(e) {\n    if (e.key === \"Escape\") onDismiss();\n  }\n\n  onMount( () => {\n    MicroModal.show(key, { disableScroll: true, disableFocus: true });\n  });\n\n  onDestroy(() => {\n    MicroModal.close(key);\n  });\n</script>\n\n<style>\n  .overlay {\n    --modal-min-height: calc(400px - 40px);\n    --top-padding: calc(var(--modal-min-height) / 3);\n\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding-top: var(--top-padding);\n    background: rgba(0, 0, 0, 0.8);\n    display: flex;\n    justify-content: center;\n    align-items: start;\n  }\n\n  h2 {\n    font-size: 38px;\n  }\n\n  header {\n    display: grid;\n    grid-template-columns: auto max-content;\n  }\n  .container {\n    width: calc(var(--width, var(--content-width)) - 40px);\n    height: calc(var(--height, auto));\n    min-width: calc(var(--width, var(--content-width)) - 40px);\n    min-height: var(--modal-min-height);\n    background-color: var(--color-white);\n    padding: 20px;\n    box-shadow: var(--box-shadow-lg);\n    display: grid;\n    grid-template-rows: max-content auto max-content;\n    font-size: 14px;\n  }\n\n  .cta {\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: start;\n    grid-column-gap: 1rem;\n  }\n\n  button {\n    padding: 0;\n    background-color: transparent;\n    border: none;\n    line-height: 1;\n    width: 40px;\n    height: 40px;\n    border-radius: 20px;\n    transition: transform 500ms, color 500ms;\n    color: #1d1133;\n    cursor: pointer;\n  }\n\n  button:hover {\n    transform: rotate(360deg);\n    color: black;\n  }\n</style>\n\n<svelte:window on:keydown={handleKeydown} />\n\n<Portal>\n  <div id={key} aria-hidden=\"true\" transition:fade={{ duration: 200 }}>\n    <div\n      tabindex=\"-1\"\n      transition:fly={{duration: 200, y: 5}}\n      data-micromodal-close\n      class=\"overlay\"\n      style={styles}\n      on:click={dismissParent}>\n      <div\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"modal-1-title\"\n        class=\"container radius-sm mzp-t-mozilla\">\n        <header>\n          <h2 class=\"mzp-t-mozilla\">\n            <slot name=\"title\">Title.</slot>\n          </h2>\n          <button on:click={onDismiss}>\n            <Close size=\"28px\" />\n          </button>\n        </header>\n\n        <div class=\"modal-body\">\n          <slot name=\"body\">\n            <p>I am a dialog</p>\n          </slot>\n        </div>\n        <!-- [4] -->\n        <div class=\"cta\">\n          <slot name=\"cta\">\n            <button on:click={onAccept}>Accept</button>\n            <button on:click={onCancel}>Cancel</button>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</Portal>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { createEventDispatcher } from 'svelte';\n  import { fly } from 'svelte/transition';\n  import MainSidebar from \"../components/layouts/MainSidebar.svelte\";\n  import ExternalLink from \"../components/icons/ExternalLink.svelte\";\n\n  export let view = \"current-studies\";\n  export let profileQuestionsAnswered = 0;\n  export let totalProfileQuestions = 7;\n\n  const dispatch = createEventDispatcher();\n  function send(nextView) {\n    return () => {\n      if (nextView === 'leave-rally') {\n        dispatch(\"leave-rally\");\n      } else {\n        view = nextView;\n        dispatch(\"change-view\", { view });\n      }\n    }\n  }\n\n</script>\n\n<style>\n\nh1 {\n    align-self: start;\n  }\na, button {\n  background-color: none;\n  padding: 0;\n  border: none;\n  text-align: left;\n  cursor: pointer;\n  color: var(--color-dark-gray-10);\n  font-weight: 700;\n  text-decoration: none;\n  display: block;\n  width: max-content;\n  position: relative;\n  transition: color .15s;\n}\n\na:hover, ul button:hover {\n  color: var(--color-dark-gray-90);\n}\n\nul button.active {\n  color: var(--color-dark-gray-90);\n}\n\na::before, ul button::before {\n  content: \"\";\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  bottom: -2px;\n  left: 0%;\n  background-color: var(--color-dark-gray-10);\n  visibility: hidden;\n  transform: scaleX(0);\n  transform-origin: left center;\n  transition: all 0.15s ease-in-out 0s;\n}\n\na:hover::before, ul button:hover::before {\n  visibility: visible;\n  opacity: .4;\n  transform: scaleX(1);\n}\n\nul button.active::before, ul button.active:hover::before {\n  visibility: visible;\n  transform: scaleX(1);\n  background-color: var(--color-dark-gray-90);\n}\n\nul button.active:hover::before {\n  opacity: 1;\n  background-color: var(--color-dark-gray-90);\n}\n\nul li + li {\n  margin-top: 2rem;\n}\n\nli a {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.app-controls {\n  align-self: end;\n}\n\n.app-controls button {\n  font-size: 14px;\n}\n</style>\n\n<MainSidebar>\n  <button slot='header'in:fly={{duration:800, delay: 600, x: -15}} on:click={send('current-studies')}>\n    <h1>\n      <img src=\"img/logo-tall.svg\" alt=\"Mozilla Rally Logo\" />\n      \n    </h1>\n  </button>\n  <ul slot=\"navigation\" in:fly={{duration: 800, delay: 300, x: -10}}>\n    <li><button class:active={view === 'current-studies'} on:click={send('current-studies')}>Current Studies</button></li>\n    <li>\n      <a class=\"external\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://support.mozilla.org/en-US/kb/about-mozilla-rally\">Support\n        <ExternalLink /></a>\n    </li>\n    <li>\n      <a class=\"external\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"__BASE_SITE__/how-rally-works/faqs/\">FAQ\n        <ExternalLink /></a>\n    </li>\n  </ul>\n  <ul slot=\"settings\" class=\"app-controls\"  in:fly={{duration: 800, delay: 600, x: -10}}>\n    <ul class=\"app-controls\">\n      <li><button class:active={view === 'manage-profile'} on:click={send('manage-profile')}>\n        Manage Profile\n      </button>\n      <div style=\"color: var(--color-light-gray-90); font-size: 10px; font-weight: 400; padding-top: 4px;\">\n        <span style=\"position: relative;\n        display: inline-block;\n        transform: translateY(-11.5px);\n        font-variant-numeric: tabular-nums;\n        min-width: 6.5px;\">\n          {#key profileQuestionsAnswered}\n          <span style=\"display: inline-block; position: absolute;\" in:fly={{duration: 500, y: -24}} out:fly={{duration: 500, y: 24}}>{profileQuestionsAnswered}</span>\n          {/key}\n        </span>\n        / {totalProfileQuestions} Questions Answered\n      </div>\n\n    </li>\n      <li><button class:active={view === 'privacy-notice'} on:click={send('privacy-notice')}>Privacy Notice</button></li>\n      <!-- <li><button class:active={currentView === 'complete-profile'} on:click={send('complete-profile')}>Complete Profile</button></li> -->\n      <li><button class:active={view === 'leave-rally'} on:click={send('leave-rally')}>Leave Mozilla Rally</button></li>\n    </ul>\n  </ul>\n</MainSidebar>\n","<!-- This component handles the overall layout of the Core Add-On. The onboarding flow is handled elsewhere -->\n<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { createEventDispatcher } from 'svelte';\n  import Layout from \"../components/layouts/MainLayout.svelte\";\n  import Body from \"../components/layouts/MainBody.svelte\";\n  import Dialog from '../components/Dialog.svelte';\n  import Button from '../components/Button.svelte';\n  import Sidebar from \"./Sidebar.svelte\";\n  let leaveModal = false;\n  const dispatch = createEventDispatcher();\n  export let view;\n  export let profileQuestionsAnswered = 0;\n  export let totalProfileQuestions = 7;\n</script>\n\n<Layout>\n  <Sidebar {view} {totalProfileQuestions} {profileQuestionsAnswered} on:change-view on:leave-rally={() => {\n    leaveModal = true;\n  }} />\n  <Body>\n    <slot />\n  </Body>\n</Layout>\n\n{#if leaveModal}\n  <Dialog width=\"var(--content-width)\" on:dismiss={() => { leaveModal = false; }}>\n    <div slot=\"title\">Before You Go…</div>\n  <div class='split-content-modal' slot=\"body\" style=\"margin-bottom: 24px; box-sizing: content-box;\">\n    <div style=\"width: 368px;\">\n      <p style=\"padding-top: 20px;\">\n        Thanks for helping make the internet just a little bit better. For your reference, leaving Rally means that:\n      </p>\n      <ul class=\"mzp-u-list-styled bigger-gap\" style=\"padding-right: 36px;\">\n        <li>We will <b>no longer collect any data</b> for our platform or studies</li>\n        <li>You will be <b>removed from any studies</b> you're currently participating in</li>\n        <li>We will <b>delete any demographic information</b> you've shared with us</li>\n        <li>If you are currently enrolled in an open study, we will <b>delete all data</b> we've collected through that study to date. However, researchers may still retain access to data you've contributed to <b>completed studies</b>.</li>\n        <li>We will <b>uninstall and remove the Rally add-on</b>, and any associated study add-ons that you may have installed.</li>\n      </ul> \n    </div>\n    <img style=\"width: 270px; padding-top: 40px; transform: translateX(-24px);\" src=\"img/before-you-go.png\" alt=\"person walking through exit door\" />\n  </div>\n  <div class='modal-call-flow' slot=\"cta\">\n      <Button\n      size=\"lg\"\n      product\n      leave\n      on:click={() => {\n          leaveModal = false;\n          dispatch('leave-rally');\n      }}>\n      Leave Rally\n      </Button>\n      <Button\n      size=\"lg\"\n      product\n      secondary\n      on:click={() => {\n          leaveModal = false;\n      }}>\n      Cancel\n      </Button>\n  </div>\n  </Dialog>\n{/if}","/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nconst fmt = Intl.DateTimeFormat(\"en\", {month: \"short\", day: \"2-digit\", year: \"numeric\"});\n\nexport default function niceDate(dt) {\n  return fmt.format(dt);\n}\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import niceDate from \"./nice-date\";\n\n  export let endDate;\n</script>\n\n<style>\n  .study-card-header {\n    display: grid;\n    grid-gap: 20px;\n    margin-bottom: 20px;\n    grid-template-columns: var(--study-card-header-columns);\n  }\n\n  .study-card-header-info {\n    margin-top: 8px;\n  }\n  .study-card-author {\n    /* explicitly set this field to prevent Zilla in some contexts */\n    font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n      \"Segoe UI Symbol\";\n    color: var(--color-marketing-gray-70);\n  }\n\n  h3 {\n    margin: 0;\n    grid-area: title;\n    width: 100%;\n    margin-bottom: 2px;\n    font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n      \"Segoe UI Symbol\";\n  }\n</style>\n\n<div class=\"study-card-header grid\">\n  <slot name=\"study-icon\">\n    <img\n    class=\"study-card-image\"\n    width=\"60\"\n    alt=\"study icon\"\n    src=\"img/default-study-icon.png\" />\n  </slot>\n  <div class=\"study-card-header-info\">\n    <h3 class=\"text-head-sm\">\n      <slot name=\"study-name\">Study</slot>\n    </h3>\n    <div class=\"study-card-author text-body-sm\">\n      by\n      <slot name=\"study-author\">author</slot>\n      {#if endDate}\n      | Ends:\n        {niceDate(endDate)}\n      {/if}\n    </div>\n  </div>\n  <slot name=\"study-cta\" />\n</div>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  export let size = \"1em\";\n  export let color = \"currentColor\";\n</script>\n<svg\n  height={size}\n  width={size}\n  viewBox=\"0 0 16 16\"\n  fill={color}\n  xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"8\" cy=\"7.99976\" r=\"8\" fill={color} />\n  <path\n    d=\"M11.1933 5.197C11.4525 4.93556 11.8746 4.93379 12.1361 5.19304C12.3975 5.4523 12.3993 5.8744 12.14 6.13584L6.80671 11.5142C6.54515 11.7779 6.11846 11.777 5.858 11.5122L3.19134 8.80054C2.93317 8.53802 2.9367 8.11592 3.19922 7.85776C3.46174 7.5996 3.88383 7.60313 4.142 7.86564L6.33531 10.0959L11.1933 5.197Z\"\n    fill=\"white\" />\n</svg>\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nexport default {\n    \"social media\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#F5F1BA\"\n    },\n    \"misinformation\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#FFD5B2\"\n    },\n    \"artificial intelligence\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#D98FFF\"\n    },\n    \"devices\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#FFB4DC\"\n    },\n    \"data & privacy\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#B6F4F7\"\n    },\n    \"accessibility\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#E0ECEC\"\n    },\n    \"community insights\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#D9BFFF\"\n    },\n    \"product discovery\": {\n        text: \"var(--color-marketing-gray-100)\",\n        background: \"#FFB4DC\"\n    }\n}\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  export let size = 24;\n  export let color = \"currentColor\";\n</script>\n\n<svg\n  width={size}\n  height={size}\n  fill={color}\n  viewBox=\"0 0 18 18\"\n  version=\"1.1\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  xml:space=\"preserve\"\n  xmlns:serif=\"http://www.serif.com/\"\n  style=\"fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2;\">\n  <path\n    d=\"M7.343,14.657L13,9L7.343,3.343L5.929,4.757L10.172,9L5.929,13.243L7.343,14.657\" />\n</svg>\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import CaretRight from \"../icons/CaretRight.svelte\";\n\n  export let revealed = false;\n\n  export const expand = (v = false) => {\n    revealed = v;\n  };\n</script>\n\n<style> \n  .accordion-summary {\n    cursor: pointer;\n    background-color: transparent;\n    border: none;\n    width: 100%;\n    text-align: left;\n    padding: 0;\n    margin: 0;\n    font-weight: 700;\n    display: grid;\n    grid-template-columns: auto 2rem;\n    grid-template-rows: max-content max-content;\n    grid-template-areas:\n      \"title carat\"\n      \"description _\";\n    transition: background-color 100ms;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    max-height: 20px;\n    overflow: hidden;\n  }\n\n  .title {\n    align-self: center;\n    grid-area: title;\n    display: grid;\n    align-items: center;\n    grid-template-columns: max-content max-content;\n    justify-items: start;\n    grid-column-gap: 0.25em;\n  }\n  .caret {\n    justify-self: end;\n    transition: transform 200ms;\n    display: inline-grid;\n  }\n</style>\n\n<button\n  on:click={() => {\n    expand(!revealed);\n  }}\n  class=\"accordion-summary\">\n  <div class=\"title\">\n    <slot>Channel</slot>\n    <span class=\"caret gafc\" style=\"transform: rotate({revealed ? 90 : 0}deg) translateY(.5px);\">\n      <CaretRight size=\"1em\" />\n    </span>\n  </div></button>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { createEventDispatcher } from \"svelte\";\n  import { slide } from \"svelte/transition\";\n  import Header from \"./Header.svelte\";\n  import Button from \"../Button.svelte\";\n  import CheckCircle from \"../icons/CheckCircle.svelte\";\n  import ExternalLink from '../icons/ExternalLink.svelte';\n  import niceDate from \"./nice-date\";\n  import studyCategories from \"./study-categories\";\n\n  import AccordionButton from \"../accordion/AccordionButton.svelte\";\n\n  let revealed = false;\n\n  export let endDate;\n  export let joined = false;\n  export let joinedDate = undefined;\n  export let studyDetailsLink = undefined;\n  export let imageSrc;\n  export let dataCollectionDetails = [];\n  export let tags = [];\n\n  const dispatch = createEventDispatcher();\n\n</script>\n\n<style>\n  .study-card-container {\n    --icon-size: 60px;\n    --gap: 20px;\n    --left-pad: calc(var(--icon-size) + var(--gap));\n\n    padding: 1.25rem;\n    box-shadow: var(--rally-box-shadow-sm);\n    background-color: var(--color-white);\n    border: 1px solid #ECECED;\n  }\n\n  .study-card-content {\n    padding-left: var(--left-pad);\n  }\n\n  .study-card-description {\n    grid-column: 1 / span 2;\n    /* offset the last paragraph text margin by a bit more */\n    margin-top: 5.5px;\n    margin-bottom: 4px;\n  }\n\n  h4 {\n    letter-spacing: -0.2px;\n    color: var(--color-marketing-gray-80);\n    margin: 0;\n    font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n      \"Segoe UI Symbol\";\n  }\n\n  .study-card-cta {\n    justify-self: end;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-end;\n    height: 0;\n    /* add additional margin to offset buttons from card pad */\n    margin-top: 4px;\n    margin-right: 4px;\n  }\n\n  .study-card-subheader {\n    color: var(--color-ink-50);\n  }\n\n  .study-card-section-body {\n    grid-area: body;\n    align-self: start;\n  }\n\n  .study-card-footer {\n    display: grid;\n    grid-template-columns: auto max-content;\n    align-items: center;\n    padding-top: 14px;\n    grid-column-gap: 3rem;\n  }\n\n  .study-card-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n\n  .data-collection-details li {\n    margin: 0;\n  }\n\n  .data-collection-details li + li {\n    margin-top: 8px;\n  }\n\n  .study-card-privacy-policy {\n    font-size: 14px;\n    align-self: start;\n  }\n\n  .tag {\n    background-color: var(--background, var(--color-marketing-gray-80));\n    color: var(--text, var(--color-white));\n    padding: 0 4px;\n    font-size: 12px;\n    line-height: 21px;\n    height: 20px;\n    font-weight: 600;\n    display: grid;\n    place-items: center;\n    text-transform: uppercase;\n  }\n\n  hr {\n    margin: 0;\n    padding: 0;\n    border: none;\n    border-bottom: 1px solid #c4c4c4;\n  }\n\n  .header-divider {\n    margin-bottom: 20px;\n  }\n\n  .joined-study-accordion {\n    padding-left: var(--left-pad);\n    display: grid;\n    grid-template-columns: auto max-content;\n    grid-gap: 36px;\n  }\n\n  .joined-study-accordion h4 {\n    margin: 0;\n  }\n\n  .study-card-joined-date {\n    margin: auto;\n    font-size: 12px;\n    text-align: center;\n    color: var(--color-ink-10);\n    font-weight: 600;\n    font-style: italic;\n    display: grid;\n    grid-auto-flow: column;\n    align-items: center;\n    grid-column-gap: 6px;\n  }\n\n</style>\n\n<div class=\"study-card-container radius-sm\">\n  <Header {endDate}>\n    <img\n      slot=\"study-icon\"\n      class=\"study-card-image\"\n      width=\"60\"\n      alt=\"study icon\"\n      src={imageSrc || \"img/default-study-icon.png\"} />\n    <span slot=\"study-name\"><slot name=\"name\">Study Title</slot></span>\n    <span slot=\"study-author\"><slot name=\"author\">Study Author</slot></span>\n    <span slot=\"study-cta\">\n      <div class=\"study-card-cta\">\n        <Button\n          size={\"md\"}\n          product={!joined}\n          leave={joined}\n          on:click={() => {\n            dispatch(joined ? 'leave' : 'join');\n          }}>\n          {#if joined}Leave Study{:else}Join Study{/if}\n        </Button>\n      </div></span>\n  </Header>\n  <hr class=\"header-divider\" />\n  {#if joined}\n    <div class=\"joined-study-accordion\">\n      <AccordionButton bind:revealed>\n        <h4 class=\"study-card-subheader text-display-xxs\">Study Description</h4>\n      </AccordionButton>\n      {#if joined}\n          <div class=\"study-card-joined-date\">\n            {#if joinedDate}\n              joined on\n              {niceDate(joinedDate)}\n            {:else}\n              joined\n            {/if}\n            <span class='gafc' style=\"transform: translateY(-1px);\">\n              <CheckCircle size=\"20px\" color=\"var(--color-green-60)\" />\n            </span>\n          </div>\n        {/if}\n    </div>\n  {/if}\n  {#if revealed || !joined}\n    <div class=\"study-card-body\" transition:slide|local={{ duration: 200 }}>\n      <div class=\"study-card-content\">\n      {#if !joined}<h4 class=\"study-card-subheader text-display-xxs\">Study Description</h4>{/if}\n      <div class=\"study-card-description body-copy text-body-sm\">\n        <slot name=\"description\">\n          <p>description missing</p>\n        </slot>\n      </div>\n      {#if dataCollectionDetails.length}\n        <div\n          class=\"study-card-section study-card-collected body-copy text-body-sm\">\n          <h4 class=\"study-card-subheader text-display-xxs\" style=\"margin-bottom: 10px;\">Key Data Collected</h4>\n          <ul\n            class=\"mzp-u-list-styled study-card-section-body data-collection-details body-copy text-body-sm\">\n            {#each dataCollectionDetails as detail}\n              <li>{detail}</li>\n            {/each}\n          </ul>\n        </div>\n      {/if}\n      </div>\n      <hr />\n\n      <div class=\"study-card-footer\">\n        <div class=\"study-card-tags\">\n          {#each tags as tag}\n            <div \n              class=\"tag radius-sm\" \n              style={`\n                color: ${(studyCategories[tag] && studyCategories[tag].color) || \"var(--color-marketing-gray-100)\"}; \n                background: ${(studyCategories[tag] && studyCategories[tag].background) || \"white\"};\n                `}>{tag}</div>\n          {/each}\n        </div>\n    \n        <div class=\"study-card-privacy-policy\">\n          <a target=\"_blank\" rel=\"noopener noreferrer\" class=\"external-link\" style=\"--spacing: 6px;\" href={studyDetailsLink}>View Full Study Details <ExternalLink /></a>\n        </div>\n      </div>\n    </div>\n  {/if}\n</div>\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport PrincetonCovidDisinformationIRB from \"./PrincetonCovidDisinformationIRB.svelte\";\nimport RS01Consent from \"./RS01Consent.svelte\";\n\nexport default {\n    \"princeton-news-study@rally.mozilla.org\": PrincetonCovidDisinformationIRB,\n    \"rally-study-01@mozilla.org\": RS01Consent\n}\n","<script> \n /* This Source Code Form is subject to the terms of the Mozilla Public\n  * License, v. 2.0. If a copy of the MPL was not distributed with this\n  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n\n/* \n    NOTE: this is a full pattern integration of the study card. It uses the StudyCard, StudyCardHeader,\n    and dialog components. This is the component to use _in practice_.\n\n    It relies on props instead of slots to reduce the cost of use.\n*/\n\nimport { createEventDispatcher } from 'svelte';\nimport StudyCard from '../../components/study-card/StudyCard.svelte';\nimport StudyCardHeader from '../../components/study-card/Header.svelte';\nimport Button from '../../components/Button.svelte';\nimport Dialog from '../../components/Dialog.svelte';\nimport IRBWindow from '../irbs/IRBWindow.svelte';\nimport GenericConsent from \"../irbs/GenericConsent.svelte\";\nimport irb from \"../irbs\";\n\nexport let joined = false;\nexport let imageSrc;\nexport let title = \"Untitled Study\";\nexport let author = \"Author Unknown\";\nexport let description = \"no description.\";\nexport let addonId;\nexport let endDate;\nexport let joinedDate;\nexport let dataCollectionDetails;\nexport let studyDetailsLink;\nexport let tags;\n\nconst dispatch = createEventDispatcher();\n\nlet joinModal = false;\n\nfunction triggerJoinEvent() {\n    // send CTA click event to parent.\n    dispatch('cta-clicked');\n    joinModal = true;\n}\n\n</script>\n\n<StudyCard\n    {joined}\n    on:join={triggerJoinEvent}\n    on:leave={triggerJoinEvent}\n    {endDate}\n    {joinedDate}\n    {dataCollectionDetails}\n    {tags}\n    {imageSrc}\n    {studyDetailsLink}>\n        <span slot=\"name\">{title}</span>\n        <span slot=\"author\">{author}</span>\n        <p slot=\"description\">\n        {description}\n        </p>\n</StudyCard>\n\n{#if joinModal}\n    <Dialog\n    height={joined ? undefined : \"80vh\"}\n    topPadding={joined ? undefined : \"calc(10vh - 20px)\"}\n    width={joined ? \"var(--content-width)\" : undefined}\n    on:dismiss={() => {\n        joinModal = false;\n    }}>\n    <!-- override the dialog Zilla font setting. -->\n    <div slot=\"title\">\n        {#if !joined}\n        <StudyCardHeader {endDate}>\n            <img\n            slot=\"study-icon\"\n            class=\"study-card-image\"\n            width=\"60\"\n            alt=\"study icon\"\n            src={imageSrc || \"img/default-study-icon.png\"} />\n            <span slot=\"study-name\">{title}</span>\n            <span slot=\"study-author\">{author}</span>\n        </StudyCardHeader>\n        {:else}Leave this Study?{/if}\n    </div>\n    <div class:split-content-modal={joined} slot=\"body\">\n        {#if !joined}\n            <!-- Bake in the Princeton IRB. Once we have more studies, we will key this\n                 by the study id.\n            -->\n                <IRBWindow>\n                    {#if addonId in irb}\n                        <svelte:component this={irb[addonId]} />\n                    {:else}\n                        <GenericConsent />\n                    {/if}\n                </IRBWindow>\n        {:else}\n                <div style=\"width: 368px;\">\n                    <p style=\"padding-top: 20px;\">\n                        You’re free to come and go as you please. Just to confirm, leaving a study means the following:\n                    </p>\n                    <ul  class=\"mzp-u-list-styled bigger-gap\" style=\"padding-right: 48px;\">\n                        <li><b>You will only be leaving this specific study</b>.\n                            If you are enrolled in other studies, data\n                            collection will proceed as planned.\n                        </li>\n                        <li>\n                            Researchers working on this study will <b>no longer receive data from you</b>, \n                            and we will <b>delete any study data that we’ve collected from you</b> to date.\n                        </li>\n                    </ul>\n                </div>\n                    <img style=\"width: 270px; padding-top: 20px; transform: translateX(-24px);\" src=\"img/leave-this-study.png\" alt=\"person considering leaving the study\" />\n        {/if}\n    </div>\n    <!-- if the leave study modal is present, shore up the button hheights -->\n    <div class='modal-call-flow' slot=\"cta\" style={`margin-top: ${joined ? \"-50px\" : \"none\"};`}>\n        <Button\n        size=\"lg\"\n        product\n        leave={joined}\n        on:click={() => {\n            // send join event to parent.\n            dispatch(!joined ? \"join\" : \"leave\");\n            joinModal = false;\n        }}>\n        {#if joined}Leave Study{:else}Accept & Enroll{/if}\n        </Button>\n        <Button\n        size=\"lg\"\n        product\n        secondary\n        on:click={() => {\n            joinModal = false;\n        }}>\n        Cancel\n        </Button>\n    </div>\n    </Dialog>\n{/if}\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { createEventDispatcher } from 'svelte';\nimport { fly } from 'svelte/transition';\nimport StudyCard from './StudyCard.svelte';\n\nexport let studies = [];\nexport let userEnrollment = {};\nexport let sidebarOffset = false;\n\nconst dispatch = createEventDispatcher();\n\nfunction joinStudy(studyID) {\n    dispatch(\"join-study\", studyID);\n}\n\nfunction leaveStudy(studyID) {\n    dispatch(\"leave-study\", studyID);\n}\n\nfunction parseDateIfNeeded(date) {\n    if (date === undefined || (typeof date === 'object' && typeof date.getMonth === 'function')) return date;\n    try {\n        let endDate = date.split('-');\n        let day = +endDate[2];\n        let month = +endDate[1] - 1;\n        let year = +endDate[0];\n        return new Date(year, month, day);\n    } catch (err) {\n        console.error(err);\n        return undefined;\n    }\n}\n\n</script>\n\n<style>\n.current-studies {\n    min-height: calc(100vh - 4rem);\n}\np {\n    margin: 0;\n}\n.studies {\n    margin-top: 28px;\n    display: grid;\n    grid-auto-flow: row;\n    grid-row-gap: 1rem;\n}\n</style>\n\n<div class='current-studies' in:fly={{ duration: 800, y: 5 }}>\n\n    <h2 class='section-header'>Current Studies</h2>\n\n    <p>\n        Browse available studies and find the choice (or choices) that feel right to you.\n    </p>\n\n    <div class=\"studies\">\n\n    {#each studies as study, i (study.addonId)}\n    <StudyCard\n        title={study.name}\n        author={study.authors.name}\n        joined={(study.addonId in userEnrollment && userEnrollment[study.addonId].enrolled)}\n        imageSrc={study.icons[64]}\n        addonId={study.addonId}\n        endDate={parseDateIfNeeded(study.endDate)}\n        joinedDate={study.addonId in userEnrollment && userEnrollment[study.addonId].enrolled && userEnrollment[study.addonId].joinedOn.toDate()}\n        description={study.description}\n        dataCollectionDetails={study.dataCollectionDetails}\n        studyDetailsLink={study.studyDetailsLink}\n        tags={study.tags}\n        {sidebarOffset}\n        on:cta-clicked\n        on:join={() => {\n            joinStudy(study.addonId);\n        }}\n        on:leave={() => {\n            leaveStudy(study.addonId);\n        }}\n    />\n        {:else}\n        No available studies\n    {/each}\n    </div>\n\n</div>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n// This component is used in the \"Main View\" of the Rally Add-On.\nimport { getContext, createEventDispatcher } from \"svelte\";\nimport Demographics from \"./Content.svelte\";\nimport Button from \"../../components/Button.svelte\";\nimport { notification } from \"../../notification-store\";\nimport { schema, inputFormatters } from \"./survey-schema\";\nimport { formatAnswersForDisplay } from \"./formatters\";\n\nconst store = getContext('rally:store');\nconst dispatch = createEventDispatcher();\n// Create a deep copy of $store.demographicsData for the \"manage profile\" view.\n// Only update the store when the submit button is explicitly clicked;\n// update the intermediate copy when $store.demographicsData changes.\n// This is additionally where we transform from the _response_ format -\n// what we will send to the server - to the _display_ format -\n// what is displayed to the user in the input fields.\nlet intermediateResults;\n$: if ($store.user && $store.user.demographicsData) {\n    intermediateResults = formatAnswersForDisplay(schema, { ...$store.user.demographicsData }, inputFormatters);\n}\n</script>\n\n<Demographics results={intermediateResults}>\n    <span slot=\"title\">Manage Profile</span>\n    <p slot=\"description\">\n        Here's what you've shared with us so far. You can update, add, or rescind your answers as \n        you see fit. Just a reminder, this info helps us better understand the representitivity of our study\n        participants, and we'll always ask before we share this data with a research collaborator.\n    </p>\n    <!-- note -->\n    <div slot=\"call-to-action\" let:formattedResults let:validated>\n        <hr />\n        <div style=\"display: grid; grid-auto-flow: column; grid-column-gap: 12px; width: max-content;\">\n            <Button size=\"lg\" product leave={!validated} disabled={!validated} on:click={() => {\n                store.updateDemographicSurvey(formattedResults);\n                notification.send({code: \"SUCCESSFULLY_UPDATED_PROFILE\"});\n                dispatch(\"redirect-to\", {view: \"current-studies\", suppressNotifications: true});\n            }}>Save Changes</Button>\n            <Button size=\"lg\" product disabled={!validated} secondary on:click={() => {\n                intermediateResults = formatAnswersForDisplay(schema, { ...$store.user.demographicsData }, inputFormatters);\n                dispatch(\"redirect-to\", {view: \"current-studies\"});\n            }}>Cancel</Button>\n        </div>\n    </div>\n</Demographics>\n","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { tweened } from 'svelte/motion';\nimport { cubicOut as easing } from 'svelte/easing';\n\nlet o1 = tweened(1, { duration: 800});\nlet layer1 = tweened(1, {duration: 1100, easing, delay: 200});\nlet layer2 = tweened(1, {duration: 2200, easing});\nlet m = tweened(0, {duration: 500, easing});\n\n$: o1.set(.2);\n$: layer1.set(0);\n$: layer2.set(0);\n\nlet innerHeight = 0;\nlet scrollY = 0;\n\n$: documentHeight = document.body.height || 1000;\n$: totalDist = documentHeight - innerHeight;\n$: percentScrolled = scrollY / totalDist;\n$: m.set(percentScrolled);\n\n</script>\n\n<svelte:window bind:scrollY bind:innerHeight />\n\n<div class='study-background' style={`\n        --o1: ${$o1};\n        --data1: ${$layer1 * 15 + $m * 4}px; \n        --data2: ${-$layer2 * 15  - $m * 7}px;\n        --card1: ${-$layer1 * 10  - $m * 3}px;\n        --card2: ${$layer2 * 10 + $m * 6}px;`}>\n    <slot />\n</div>","<script> /* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nexport let pad = true;\n</script>\n<style>\ndiv {\n    display: grid;\n    grid-template-columns: var(--content-width);\n    background-size: 100% 100%;\n    background-attachment: fixed;\n    margin: var(--pad, 0);\n    margin-right: 0;\n    box-sizing: border-box;\n}\n</style>\n\n<div style={`--pad: ${pad ? \"2rem 2.5rem\" : \"0\"};`}>\n    <slot />\n</div>","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n    * License, v. 2.0. If a copy of the MPL was not distributed with this\n    * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { getContext, onMount } from 'svelte';\nimport Layout from './Layout.svelte';\nimport CurrentStudies from './current-studies/Content.svelte';\nimport PrivacyNotice from './terms-of-service/Content.svelte';\nimport Demographics from './demographics/MainDemographicsView.svelte';\nimport StudyBackgroundElement from './current-studies/Background.svelte';\nimport MainContent from '../components/layouts/MainContent.svelte';\n\nimport { schema as demographicsSchema, inputFormatters } from './demographics/survey-schema';\nimport { formatAnswersForDisplay } from './demographics/formatters'\nimport { questionIsAnswered } from './demographics/survey-tools';\n\nconst store = getContext(\"rally:store\");\nconst notification = getContext(\"rally:notification\");\n\nlet view = 'current-studies';\nfunction changeView(event) {\n    view = event.detail.view;\n    if (!event.detail.suppressNotifications) {\n        notification.clear();\n    }\n    window.scrollTo(0, 0);\n}\n\nfunction joinStudy(studyID) { store.updateStudyEnrollment(studyID, true); notification.send({code: \"SUCCESSFULLY_JOINED_STUDY\"}); }\nfunction leaveStudy(studyID) { store.updateStudyEnrollment(studyID, false); notification.send({code: \"SUCCESSFULLY_LEFT_STUDY\"}); }\n\n/* ------------------------------ PROFILE COMPLETION ------------------------------ */\n// Get the number of profile questions answered and format the numerator and denominator accordingly.\n// For now, we should expect that the profile questions are the same set as for the demographic survey.\n// Before we can count the answered questions, let's transform them back into their display version (the format we use\n// for the literal inputs) and then use the questionIsAnswered function to check how many have in fact been answered.\n$: formattedDemographicsData = $store.user.demographicsData ? formatAnswersForDisplay(demographicsSchema, { ...$store.user.demographicsData }, inputFormatters) : undefined;\n$: profileQuestionsAnswered = formattedDemographicsData ? Object.keys(demographicsSchema)\n    .filter(key => questionIsAnswered(formattedDemographicsData[key], demographicsSchema[key].type)).length : 0;\n// get the total number of available profile questions\n$: totalProfileQuestions = Object.keys(demographicsSchema).length;\n\nlet mounted = false;\nonMount(() => { mounted = true; })\n\n</script>\n\n{#if mounted}\n\n<Layout\n    on:change-view={changeView}\n    on:leave-rally\n    {view}\n    {profileQuestionsAnswered}\n    {totalProfileQuestions}\n>\n        {#if view === 'manage-profile'}\n            <MainContent>\n                <Demographics on:redirect-to={changeView} />\n            </MainContent>\n        {:else if view === 'privacy-notice'}\n            <MainContent>\n                <PrivacyNotice onboarding={false} />\n            </MainContent>\n        {:else}\n            <StudyBackgroundElement>\n                <MainContent  pad={false}>\n                    <CurrentStudies\n                        sidebarOffset\n                        studies={$store.studies}\n                        userEnrollment={$store.user?.enrolledStudies || {}}\n                        on:cta-clicked={() => {\n                            notification.clear();\n                        }}\n                        on:join-study={(evt) => { joinStudy(evt.detail); }}\n                        on:leave-study={(evt) => { leaveStudy(evt.detail); }} />\n                </MainContent>\n            </StudyBackgroundElement>\n        {/if}\n</Layout>\n{/if}\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n  * License, v. 2.0. If a copy of the MPL was not distributed with this\n  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  import { scale } from 'svelte/transition'\n  export let width;\n  export let level = \"info\"; // info, error.\n\n  export let xOffset;\n  export let yOffset;\n\n  // positioning elements.\n  export let location;\n\n  // if specified, set the width variable.\n\n  function makeStyle({width, xOffset, yOffset}) {\n    let styles = [\n      width ? `--width: ${width}` : undefined,\n      xOffset ? `--x-offset: ${xOffset}` : undefined,\n      yOffset ? `--y-offset: ${yOffset}` : undefined,\n    ]\n    return styles.filter(d=> d !== undefined).join('; ');\n  }\n\n  $: style = makeStyle({width, xOffset, yOffset});\n  \n</script>\n\n<style>\n  aside {\n    --width: max-content;\n\n    padding: 8px 14px;\n    width: var(--width);\n    box-shadow: var(--rally-box-shadow-sm);\n    /* taken from Figma. Is there a display style we have now that matches? */\n    font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n      Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n      \"Segoe UI Symbol\";\n    font-style: normal;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 22px;\n    display: grid;\n    /* take from Figma. should this be a variable? */\n    grid-column-gap: 10px;\n    grid-template-columns: max-content auto max-content;\n    align-items: center;\n    align-content: center;\n  }\n\n  .notification-info,\n  .notification-info > * {\n    color: #0c0c0d;\n    background-color: var(--color-green-20);\n  }\n\n  .notification-error,\n  .notification-error > * {\n    color: var(--color-white);\n    background-color: var(--color-red-60);\n  }\n\n  .icon {\n    font-size: 24px;\n    height: 24px;\n  }\n\n  .centered {\n    height: max-content;\n    display: grid;\n    align-self: center;\n    align-items: center;\n    align-content: center;\n  }\n\n  .centered > * {\n    height: max-content;\n    display: grid;\n    align-self: center;\n    align-items: center;\n    align-content: center;\n  }\n\n  .notification-floating {\n    position: fixed;\n    --pad: 20px;\n    /* stylelint-disable */\n    --x-offset: 0px;\n    --y-offset: 0px;\n    /* stylelint-enable */\n    --x-pad: calc(var(--pad) + var(--x-offset));\n    --y-pad: calc(var(--pad) + var(--y-offset));\n  }\n\n  .notification-floating-bottom, .notification-floating-bottom-center {\n    bottom: var(--y-pad);\n    left: calc(50% + var(--x-offset));\n    transform: translateX(-50%);\n  }\n\n  .notification-floating-bottom-right {\n    right: var(--x-pad);\n    bottom: var(--y-pad);\n  }\n\n  .notification-floating-bottom-left {\n    left: var(--x-pad);\n    bottom: var(--y-pad);\n  }\n\n  .notification-floating-top, .notification-floating-top-center {\n    top: var(--y-pad);\n    left: calc(50% + var(--x-offset));\n    transform: translateX(-50%);\n  }\n\n  .notification-floating-top-left {\n    left: var(--x-pad);\n    top: var(--y-pad);\n  }\n\n  .notification-floating-top-right {\n    right: var(--x-pad);\n    top: var(--y-pad);\n  }\n</style>\n\n<aside \n  transition:scale={{duration: 200, start: .98, opacity: 0}}\n  style={style} class=\"radius-sm notification-{level} \n    {location !== undefined ? `notification-floating notification-floating-${location}` : ''}\">\n  <div class=\"icon centered\">\n    <slot name=\"icon\" />\n  </div>\n  <div class=\"body centered\">\n    <slot name=\"body\" />\n  </div>\n  <div class=\"cta centered\">\n    <slot name=\"cta\" />\n  </div>\n</aside>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport Notification from '../../components/notification/NotificationElement.svelte';\nimport Check from '../../components/icons/Check.svelte';\nexport let xOffset;\nexport let location = \"top\";\n\n</script>\n<Notification {location} {xOffset}>\n    <span style=\"display: contents;\" slot=\"icon\">\n    <Check />\n    </span>\n    <span slot=\"body\">successfully joined study</span>\n</Notification>\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n    * License, v. 2.0. If a copy of the MPL was not distributed with this\n    * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport Notification from '../../components/notification/NotificationElement.svelte';\nimport Check from '../../components/icons/Check.svelte';\n\nexport let xOffset;\nexport let location = \"top\";\n\n</script>\n<Notification {location} {xOffset}>\n    <span style=\"display: contents;\" slot=\"icon\">\n    <Check />\n    </span>\n    <span slot=\"body\">successfully left study</span>\n</Notification>\n","<script>\n    /* This Source Code Form is subject to the terms of the Mozilla Public\n     * License, v. 2.0. If a copy of the MPL was not distributed with this\n     * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n    \n    import Notification from '../../components/notification/NotificationElement.svelte';\n    import Check from '../../components/icons/Check.svelte';\n    export let xOffset;\n    export let location = \"top\";\n    \n    </script>\n    <Notification {location} {xOffset}>\n        <span style=\"display: contents;\" slot=\"icon\">\n        <Check />\n        </span>\n        <span slot=\"body\">successfully updated profile</span>\n    </Notification>\n    ","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n* License, v. 2.0. If a copy of the MPL was not distributed with this\n* file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { notification } from '../notification-store';\nimport SuccessfullyJoinedStudyNotification from \"./current-studies/SuccessfullyJoinedStudyNotification.svelte\";\nimport SuccessfullyLeftStudyNotification from \"./current-studies/SuccessfullyLeftStudyNotification.svelte\";\nimport SuccessfullyUpdatedProfileNotification from \"./demographics/SuccessfullyUpdatedProfileNotification.svelte\";\n\nexport let sidebarOffset = false;\n\nconst messages = {\n    SUCCESSFULLY_JOINED_STUDY: SuccessfullyJoinedStudyNotification,\n    SUCCESSFULLY_LEFT_STUDY: SuccessfullyLeftStudyNotification,\n    SUCCESSFULLY_UPDATED_PROFILE: SuccessfullyUpdatedProfileNotification\n}\n</script>\n  \n{#key $notification.id}\n    {#if $notification.id}\n        <svelte:component this={messages[$notification.code]}\n        location={sidebarOffset ? \"top-left\" : \"top\"}\n        xOffset={sidebarOffset ? \"var(--main-notification-offset)\" : undefined }\n        />\n    {/if}\n{/key}\n","<script>\n/* This Source Code Form is subject to the terms of the Mozilla Public\n    * License, v. 2.0. If a copy of the MPL was not distributed with this\n    * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport { createEventDispatcher, onMount } from \"svelte\";\nimport {  fly } from 'svelte/transition';\nimport Button from \"../../components/Button.svelte\";\n// NOTE: uncomment this when we have a waitlist.\n// import ExternalLink from \"../../components/icons/ExternalLink.svelte\";\n\nimport Layout from \"../../components/layouts/OnboardingLayout.svelte\";\nimport Main from \"../../components/layouts/OnboardingBody.svelte\";\n\nconst dispatch = createEventDispatcher();\nlet mounted = false;\nonMount(() => {\n    mounted = true;\n});\n</script>\n\n<style>\n.mzp-c-call-out {\n    background-color: transparent;\n    min-height: calc(100vh - 2.5rem);\n    padding: 0;\n}\n\n.mzp-l-content {\n    padding-left: 0;\n    padding-right: 0;\n    padding-top: 80px;\n}\n\n.mzp-c-call-out-title {\n    margin-bottom: -12px;\n}\n\n/* NOTE: once we have a waitlist link, uncomment out these classes */\n/* .waitlist {\n    margin-top: 24px;\n    text-align: center;\n}\n\n.waitlist a {\n    display: grid;\n    grid-auto-flow: column;\n    align-items: center;\n    justify-content: center;\n    grid-column-gap: 8px;\n} */\n\n</style>\n\n{#if mounted}\n<Layout>\n    <Main>\n        <section class=\"mzp-c-call-out\">\n            <div class=\"mzp-l-content\" in:fly={{ duration: 800, y: 5 }}>\n                <h2\n                class=\"mzp-c-call-out-title mzp-has-zap-1\"\n                in:fly={{ duration: 800, y: 5 }}>\n                <img src=\"img/logo-wide.svg\" alt=\"Mozilla Rally Logo\" />\n                </h2>\n\n                <p\n                class=\"mzp-c-call-out-desc\"\n                style=\"color: var(--color-marketing-gray-70); letter-spacing: -.01em;\">\n                Put your data to work and start building a better internet.\n                </p>\n\n                <p style=\"font-weight: bold; margin: auto; margin-top: 60px; margin-bottom: 20px; width: 660px;\">\n                    At this time, Mozilla Rally is only available to participants based in the U.S., but we're\n                    hoping to provide access to other countries as soon as we can.\n                </p>\n\n                <div\n                in:fly={{ duration: 800, y: -5 }}\n                class=\"mzp-c-button-download-container\"\n                style=\"width: 239px; display: grid; margin: auto;\">\n                <Button \n                product\n                leave size=\"xl\" on:click={() => dispatch('remove-extension')}>\n                    Remove Extension\n                </Button>\n                </div>\n                <!-- uncomment out this block and update the link when we have the waitlist available -->\n                <!-- <div class=\"waitlist\">\n                <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"__BASE_SITE__/waitlist/\">Join the Waitlist\n                    <ExternalLink /></a>\n                </div> -->\n            </div>\n        </section>\n    </Main>\n</Layout>\n{/if}\n","<script>\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n  import { setContext } from \"svelte\";\n  import { store } from \"./app-store\";\n  import { notification } from \"./notification-store\";\n\n  import Onboarding from \"./routes/Onboarding.svelte\";\n  import Main from './routes/Main.svelte';\n  import NotificationCenter from \"./routes/NotificationCenter.svelte\";\n  import NonUSSplashPage from './routes/non-eligible-splashes/NonUSUser.svelte';\n \n  setContext(\"rally:store\", store);\n  setContext(\"rally:notification\", notification);\n\n  // As soon as the store has its initial value, let's\n  // set firstRun = !enrolled.\n  let firstRun;\n\n  $: showStore = ($store._initialized === true);\n  $: if ($store._initialized && firstRun === undefined) {\n    firstRun = !($store.user?.enrolled);\n  }\n  // We currently exclusively support Rally on en-US locales,\n  // but still support enabling/disabling the locale check\n  // to enable the development workflows on other locales.\n  let isRallySupported = __DISABLE_LOCALE_CHECK__\n    ? true\n    : navigator.language === \"en-US\";\n  \n</script>\n\n{#if $store.user?.testValue}\n<div style=\"\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  padding: 1rem;\n  border-radius: .5rem;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n\">\n  {$store.user?.testValue}\n</div>\n{/if}\n\n{#if isRallySupported}\n  {#if showStore}\n    {#if firstRun}\n      <!-- onboarding flow -->\n      <!-- the onboarding-complete event occurs once the user has\n      gotten through the profile completion step. -->\n      <!-- the first-run-initiated event occurs once the user has\n      loaded the Welcome page. -->\n      <Onboarding\n        firstRunCompleted={$store.firstRunCompleted}\n        on:first-run-initiated={() => {\n          store.setFirstRunCompletion(true);\n        }}\n        on:onboarding-complete={() => {\n          firstRun = false;\n        }} />\n    {:else}\n      <!-- main application flow -->\n      <Main\n          on:leave-rally={() => {\n            store.updatePlatformEnrollment(false);\n            // reset to first run until Rally uninstalls itself.\n            firstRun = true;\n          }}\n        />\n      <NotificationCenter sidebarOffset />\n    {/if}\n  {/if}\n{:else}\n  <NonUSSplashPage on:remove-extension={() => {\n    // we will use store.UpdatePlatformEnrollment to\n    // uninstall the add-on, even though the user technically\n    // does not need to have any deletion pings sent.\n    store.updatePlatformEnrollment(false);\n  }} />\n{/if}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\nimport App from \"./App.svelte\";\n\nconst app = new App({\n  target: document.body,\n});\n\nexport default app;\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","toggle_class","toggle","classList","custom_event","type","detail","e","createEvent","initCustomEvent","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","call","setContext","context","set","getContext","get","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","abort","started","create_out_transition","group","reset","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","start","end","outro_and_destroy_block","lookup","bind","index","props","bound","create_component","mount_component","customElement","m","new_on_destroy","map","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","on_disconnect","Map","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","SvelteComponent","this","$destroy","splice","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","sync","result","unsubscribers","n","arguments","H","getPrototypeOf","hasOwnProperty","constructor","Function","toString","Q","G","v","T","u","prototype","W","X","U","configurable","enumerable","h","freeze","isFrozen","y","V","_","J","j","O","w","S","M","P","g","B","A","R","F","D","concat","K","z","getOwnPropertyDescriptor","E","$","C","I","Y","Z","Proxy","revocable","revoke","proxy","N","defineProperty","min","entries","path","op","unshift","JSON","stringify","setPrototypeOf","__proto__","L","done","Symbol","q","Reflect","for","iterator","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","deleteProperty","apply","tt","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","nt","rt","et","it","ut","ot","ft","at","exports","state","user","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","userRef","createUser","collection","createdOn","updates","merge","_stateChangeCallbacks","_updateLocalState","listenForUserChanges","onSnapshot","nextState","draft","USER_ID","googleAuthProvider","GoogleAuthProvider","userCredential","signInWithPopup","err","console","error","initialize","notifyStudies","credential","idToken","email","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","initialState","userState","authenticatedUser","onAuthStateChanged","_isLoggedIn","initialStudyState","async","getStudies","docs","querySnapshot","studies","_initialized","studyId","chrome","runtime","sendMessage","studyID","enroll","enrolledStudies","enrolled","joinedOn","demographicsData","setFirstRunCompletion","firstRunCompleted","api","onNextState","loginWithGoogle","loginWithEmailAndPassword","signupWithEmailAndPassword","coercedEnroll","debug","updateStudyEnrollment","updatePlatformEnrollment","updateDemographicSurvey","firstRun","createAppStore","notification","_notification","id","timeout","notifications","$notification","clearTimeout","setTimeout","timeoutID","send","message","code","random","substr","createNotificationStore","noOverflow","padForOnboarding","cubicInOut","pow","cubicOut","fade","linear","getComputedStyle","opacity","fly","target_opacity","transform","od","slide","height","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","scale","sd","_t","draw","speed","getTotalLength","neutral","product","secondary","dark","leave","icon","compact","disabled","forwardAll","additionalEvents","events","destructors","destructor","forwardEvents","getComponent","sizeClass","productClass","neutralClass","secondaryClass","darkClass","leaveClass","iconClass","textClass","errorClass","compactClass","classSet","color","createResultObject","schema","currentAnswers","reduce","acc","defaultValue","answer","questionIsAnswered","questionType","formatInput","formatter","edit","focus","blur","display","alignRight","remove","FieldFormatter","parameters","showValidationErrors","isInvalid","response","formatters","currency","formatCurrencyInput","test","formatForDisplay","intermediateValue","includes","floor","toCurrency","Intl","NumberFormat","maximumFractionDigits","finalValue","format","formatForEditing","formatForResponse","zipcode","formatZipcodeInput","setValidator","number","Number","isNaN","_formatFor","answers","formatType","removeUnanswered","transformedAnswers","formatAnswersForResponse","formatAnswersForDisplay","age","label","columns","gender","hispanicLatinxSpanishOrigin","race","school","exactIncome","sublabel","inputFormatters","every","hasValidator","functionName","exists","createInputFormatters","validateAllQuestions","showErrors","ceil","results","workingResults","formattedResults","preventDefault","question","clearAnswer","__value","checked","onboarding","totalSteps","transparent","scrollY","innerHeight","bodyHeight","body","clientHeight","ResizeObserver","contentRect","observe","gradient","showArrow","view","mounted","scrollTo","finishOnboarding","$store","_defineProperties","descriptor","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","TypeError","_nonIterableSpread","arr2","FOCUSABLE_ELEMENTS","Modal","activeModal","validateModalPresence","validateArgs","MicroModal","_ref","targetModal","_ref$triggers","triggers","_ref$onShow","onShow","_ref$onClose","onClose","_ref$openTrigger","openTrigger","_ref$closeTrigger","closeTrigger","_ref$openClass","openClass","_ref$disableScroll","disableScroll","_ref$disableFocus","disableFocus","_ref$awaitCloseAnimat","awaitCloseAnimation","_ref$awaitOpenAnimati","awaitOpenAnimation","_ref$debugMode","debugMode","Constructor","_classCallCheck","modal","getElementById","registerTriggers","onClick","onKeydown","protoProps","staticProps","_this","_len","_key","Boolean","trigger","showModal","_this2","activeElement","scrollBehaviour","addEventListeners","setFocusToFirstNode","removeEventListeners","closeModal","querySelector","overflow","hasAttribute","keyCode","retainFocus","querySelectorAll","_this3","focusableNodes","getFocusableNodes","nodesWhichAreNotCloseTargets","offsetParent","contains","focusedItemIndex","shiftKey","warn","triggerMap","validateTriggerPresence","triggerAttr","attributes","generateTriggerMap","show","close","closeModalById","ref","portal","className","toVariable","width","topPadding","substring","onDismiss","styles","addStyleVariables","currentTarget","profileQuestionsAnswered","totalProfileQuestions","nextView","leaveModal","fmt","DateTimeFormat","month","day","year","niceDate","dt","endDate","social media","background","misinformation","artificial intelligence","devices","data & privacy","accessibility","community insights","product discovery","revealed","expand","studyCategories","joined","joinedDate","studyDetailsLink","imageSrc","dataCollectionDetails","tags","princeton-news-study@rally.mozilla.org","rally-study-01@mozilla.org","irb","title","author","description","addonId","joinModal","authors","icons","parseDateIfNeeded","toDate","old_blocks","get_key","dynamic","list","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","will_move","did_move","first","new_block","old_block","new_key","old_key","date","getMonth","userEnrollment","sidebarOffset","joinStudy","leaveStudy","study","intermediateResults","suppressNotifications","is_date","get_interpolator","bi","getTime","delta","interpolators","tweened","defaults","target_value","opts","previous_task","interpolate","elapsed","o1","layer1","layer2","totalDist","documentHeight","percentScrolled","pad","formattedDemographicsData","demographicsSchema","evt","level","xOffset","yOffset","location","makeStyle","messages","SUCCESSFULLY_JOINED_STUDY","SuccessfullyJoinedStudyNotification","SUCCESSFULLY_LEFT_STUDY","SuccessfullyLeftStudyNotification","SUCCESSFULLY_UPDATED_PROFILE","SuccessfullyUpdatedProfileNotification","testValue","isRallySupported","navigator","language","showStore"],"mappings":"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"}